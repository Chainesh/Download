<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Object Tracking &#8211; Machine Learning Space</title>
	<atom:link href="https://machinelearningspace.com/category/object-tracking/feed/" rel="self" type="application/rss+xml" />
	<link>https://machinelearningspace.com</link>
	<description>A space for learning machine learning</description>
	<lastBuildDate>Mon, 10 Jan 2022 15:00:28 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.1.1</generator>
	<item>
		<title>Object Tracking: 2-D Object Tracking using Kalman Filter in Python</title>
		<link>https://machinelearningspace.com/2d-object-tracking-using-kalman-filter/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=2d-object-tracking-using-kalman-filter</link>
					<comments>https://machinelearningspace.com/2d-object-tracking-using-kalman-filter/#comments</comments>
		
		<dc:creator><![CDATA[rahmadsadli]]></dc:creator>
		<pubDate>Wed, 26 Feb 2020 11:41:36 +0000</pubDate>
				<category><![CDATA[Object Detection]]></category>
		<category><![CDATA[Object Tracking]]></category>
		<category><![CDATA[Python Programming]]></category>
		<category><![CDATA[2D Kalman filter]]></category>
		<category><![CDATA[2d kalman filter python]]></category>
		<category><![CDATA[2D Object Tracking]]></category>
		<category><![CDATA[a kalman filter tutorial for undergraduate students]]></category>
		<category><![CDATA[a kalman filtering tutorial for undergraduate students]]></category>
		<category><![CDATA[how a kalman filter works]]></category>
		<category><![CDATA[implement a kalman filter]]></category>
		<category><![CDATA[implementing a kalman filter in python]]></category>
		<category><![CDATA[Kalman Filter 2D]]></category>
		<category><![CDATA[kalman filter implementation]]></category>
		<category><![CDATA[kalman filter in image processing]]></category>
		<category><![CDATA[Kalman Filter in Python]]></category>
		<category><![CDATA[Kalman Filter Python]]></category>
		<category><![CDATA[kalman filter python opencv]]></category>
		<category><![CDATA[kalman filter regression python]]></category>
		<category><![CDATA[kalman filter tracking]]></category>
		<category><![CDATA[KF]]></category>
		<category><![CDATA[Learn how to implement Kalman filter in Python]]></category>
		<category><![CDATA[Python]]></category>
		<category><![CDATA[two dimensional kalman filter python]]></category>
		<guid isPermaLink="false">https://machinelearningspace.com/?p=1887</guid>

					<description><![CDATA[<p>In this tutorial, we're going to continue our discussion about the object tracking using Kalman Filter. Specifically in this part, we're going to discover 2-D object tracking.</p>
<p>The post <a rel="nofollow" href="https://machinelearningspace.com/2d-object-tracking-using-kalman-filter/">Object Tracking: 2-D Object Tracking using Kalman Filter in Python</a> appeared first on <a rel="nofollow" href="https://machinelearningspace.com">Machine Learning Space</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<div class="responsive-embed-container">
<figure><iframe src="https://www.youtube.com/embed/niFzS2t1F-8" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" width="560" height="315" frameborder="0"></iframe></figure></div>



<p>In the <a href="https://machinelearningspace.com/object-tracking-simple-implementation-of-kalman-filter-in-python/">previous tutorial</a>, we&#8217;ve discussed the implementation of the Kalman filter in Python for tracking a moving object in 1-D direction. Now, we&#8217;re going to continue our discussion on object tracking, specifically in this part, we&#8217;re going to discover 2-D object tracking using the Kalman filter.</p>



<p>As I mentioned already in the previous tutorial, the 1-D Kalman filter concept is a prerequisite for the tutorials related to the object tracking algorithm that you will find in my blogs. So, I suppose that you&#8217;ve read it carefully. Otherwise, I strongly recommend reading it first before continuing this one.  So that you can follow this guide easily.</p>



<h3>State transition matrix A and control matrix B </h3>



<p>Remember, in 1-D Kalman Filter, we consider that both state and velocity are in one-direction only. Based on Kinematic  equation, the relation between the position <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/> and velocity <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-770d10fb0f6590bea84ce31bd1af6d0c_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#100;&#111;&#116;&#32;&#120;" title="Rendered by QuickLaTeX.com" height="12" width="10" style="vertical-align: 0px;"/> can be written as the following: </p>



<p> <a name="id3677551405"></a><p class="ql-center-displayed-equation" style="line-height: 44px;"><span class="ql-right-eqno"> (1) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-66433c7ca819bd7b8f4dc9c8f3367476_l3.png" height="44" width="346" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#120;&#95;&#107;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#32;&#116;&#43;&#32;&#49;&#47;&#50;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#125;&#92;&#92;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p> </p>



<p>Then we can write eq.(<a href="#id3677551405">1</a>)  in the form of matrix multiplication as follows:</p>



<p>  <a name="id286783683"></a><p class="ql-center-displayed-equation" style="line-height: 44px;"><span class="ql-right-eqno"> (2) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-e6e2d565a04cf7a2595913099abbbba6_l3.png" height="44" width="358" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#120;&#95;&#107;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#92;&#92;&#48;&#32;&#38;&#32;&#49;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#43;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#92;&#92;&#32;&#32;&#32;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   </p>



<p>Now, we&#8217;re going to focus on 2-D Kalman Filter. The equations of 2-D  Kalman Filter whose position and velocity must be considered in 2-dimensional direction, the <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/>&#8211; and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/>&#8211; directions, can be created by modifying the 1-D Kalman Filter equations. Meaning that instead of considering only for the position and velocity in one direction, let&#8217;s say the <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/>-direction, we need to take into account the position and velocity in the <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/>-direction as well. </p>



<p>The state in time <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#107;" title="Rendered by QuickLaTeX.com" height="13" width="9" style="vertical-align: 0px;"/> can be predicted by the previous state in time <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7dfca2445cd362ac42fb9032c9cf2367_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#107;&#45;&#49;" title="Rendered by QuickLaTeX.com" height="14" width="39" style="vertical-align: -1px;"/>. Let <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/> and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/> be the positions in the <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/>&#8211; and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/>-directions, respectively, and also let <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-02f1f273123c3399663d27f86372ec28_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#100;&#111;&#116;&#32;&#32;&#120;" title="Rendered by QuickLaTeX.com" height="12" width="10" style="vertical-align: 0px;"/> and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-63e253a73a05b60ef47437af4e7cb120_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#100;&#111;&#116;&#32;&#32;&#121;" title="Rendered by QuickLaTeX.com" height="16" width="9" style="vertical-align: -4px;"/> be the velocities in <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/>&#8211; and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/>-directions, respectively.  Then the 2-D Kinematic equation for state <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-2c0c9cc1d15c8bbf6f8800e7c7d50482_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="11" width="18" style="vertical-align: -3px;"/> can be written as:</p>



<p><a name="id3871371663"></a><p class="ql-center-displayed-equation" style="line-height: 88px;"><span class="ql-right-eqno"> (3) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-2b75345ed0c80f0debc89d3b0698cffe_l3.png" height="88" width="355" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#120;&#95;&#107;&#92;&#92;&#121;&#95;&#107;&#32;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#120;&#95;&#107;&#92;&#92;&#92;&#100;&#111;&#116;&#32;&#32;&#121;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#32;&#116;&#43;&#32;&#49;&#47;&#50;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#125;&#92;&#92;&#32;&#121;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#121;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#32;&#116;&#43;&#32;&#49;&#47;&#50;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#32;&#121;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#125;&#92;&#92;&#32;&#32;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#121;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#32;&#121;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p> </p>



<p>We can write eq.(<a href="#id3871371663">3</a>) into the form of matrix multiplication as follows:</p>



<p> <a name="id3826491201"></a><p class="ql-center-displayed-equation" style="line-height: 88px;"><span class="ql-right-eqno"> (4) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-17a06922ad76e9d65285cdbe93182da3_l3.png" height="88" width="525" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#120;&#95;&#107;&#92;&#92;&#121;&#95;&#107;&#32;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#120;&#95;&#107;&#92;&#92;&#92;&#100;&#111;&#116;&#32;&#32;&#121;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#32;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#38;&#32;&#48;&#32;&#92;&#92;&#48;&#32;&#38;&#32;&#49;&#32;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#32;&#92;&#92;&#32;&#48;&#32;&#38;&#32;&#48;&#32;&#32;&#38;&#32;&#49;&#32;&#38;&#32;&#48;&#32;&#32;&#92;&#92;&#32;&#32;&#48;&#32;&#38;&#32;&#48;&#32;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#49;&#32;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#92;&#92;&#32;&#32;&#121;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#32;&#92;&#92;&#92;&#100;&#111;&#116;&#32;&#32;&#121;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#43;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#38;&#32;&#48;&#32;&#92;&#92;&#32;&#48;&#32;&#38;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#92;&#92;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#38;&#32;&#48;&#32;&#92;&#92;&#32;&#32;&#48;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#92;&#92;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#32;&#121;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   </p>



<p>The eq.(<a href="#id3826491201">4</a>) can be simplified as follows: </p>



<p><a name="id2248339877"></a><p class="ql-center-displayed-equation" style="line-height: 88px;"><span class="ql-right-eqno"> (5) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-813dddc7a28665369363f703102255c0_l3.png" height="88" width="420" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#38;&#32;&#48;&#92;&#92;&#48;&#32;&#38;&#32;&#49;&#32;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#32;&#92;&#92;&#32;&#48;&#32;&#38;&#32;&#48;&#32;&#32;&#38;&#32;&#49;&#32;&#38;&#32;&#48;&#32;&#32;&#92;&#92;&#32;&#32;&#48;&#32;&#38;&#32;&#48;&#32;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#49;&#32;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#43;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#38;&#32;&#48;&#32;&#92;&#92;&#32;&#48;&#32;&#38;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#92;&#92;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#38;&#32;&#48;&#32;&#92;&#92;&#32;&#32;&#48;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#97;&#125;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   </p>



<p>Where <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-2c0c9cc1d15c8bbf6f8800e7c7d50482_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="11" width="18" style="vertical-align: -3px;"/> is the current state, <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-648030bf53c2fbd3a6cf5095017b4653_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#123;&#107;&#45;&#49;&#125;" title="Rendered by QuickLaTeX.com" height="12" width="35" style="vertical-align: -4px;"/> is the previous state, and  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-aa6e9bd9f600bd8dac43309af9a22b2c_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#97;&#125;&#95;&#32;&#123;&#107;&#45;&#49;&#125;" title="Rendered by QuickLaTeX.com" height="12" width="34" style="vertical-align: -4px;"/> is a vector of the previous acceleration in <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/>&#8211; and  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/>-directions.</p>



<p>So, we the matrices A and B as follows:</p>



<p> <a name="id2300232522"></a><p class="ql-center-displayed-equation" style="line-height: 86px;"><span class="ql-right-eqno"> (6) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-17c37121fa29fffcde0437488177aa62_l3.png" height="86" width="167" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#65;&#125;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#38;&#32;&#48;&#92;&#92;&#48;&#32;&#38;&#32;&#49;&#32;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#32;&#92;&#92;&#32;&#48;&#32;&#38;&#32;&#48;&#32;&#32;&#38;&#32;&#49;&#32;&#38;&#32;&#48;&#32;&#32;&#92;&#92;&#32;&#32;&#48;&#32;&#38;&#32;&#48;&#32;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#49;&#32;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   </p>



<p><a name="id841436821"></a><p class="ql-center-displayed-equation" style="line-height: 88px;"><span class="ql-right-eqno"> (7) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-64478aa0536b92fe7893073ffc26aeba_l3.png" height="88" width="180" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#66;&#125;&#32;&#61;&#32;&#32;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#38;&#32;&#48;&#32;&#92;&#92;&#32;&#48;&#32;&#38;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#92;&#92;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#38;&#32;&#48;&#32;&#92;&#92;&#32;&#32;&#48;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   </p>



<p>Notice: Pay attention to the notation: <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-2c0c9cc1d15c8bbf6f8800e7c7d50482_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="11" width="18" style="vertical-align: -3px;"/> and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-9f7a125c094d5cd793eb4a83bb8318ce_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="11" width="17" style="vertical-align: -3px;"/>,  they are  two different things. Where the  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-2c0c9cc1d15c8bbf6f8800e7c7d50482_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="11" width="18" style="vertical-align: -3px;"/> (&#8220;x&#8221; in bold letter) is  the state at time <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#107;" title="Rendered by QuickLaTeX.com" height="13" width="9" style="vertical-align: 0px;"/> that composes of the positions <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-9f7a125c094d5cd793eb4a83bb8318ce_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="11" width="17" style="vertical-align: -3px;"/> and  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-76fc8864fc0de59802f4fc7cacf86ce6_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="12" width="16" style="vertical-align: -4px;"/>  and the velocities  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-db308c5f7a921695942561b859d27f6f_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#100;&#111;&#116;&#32;&#32;&#120;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="15" width="17" style="vertical-align: -3px;"/> and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-6679a2f793dd4f66753e057644d467a1_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#100;&#111;&#116;&#32;&#32;&#121;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="16" width="16" style="vertical-align: -4px;"/> at time <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#107;" title="Rendered by QuickLaTeX.com" height="13" width="9" style="vertical-align: 0px;"/>. </p>



<h3>Transformation matrix H </h3>



<p>The measurement model for  2-D Kalman filter is the same as the 1-D Kalman filter model:</p>



<p><a name="id3920594246"></a><p class="ql-center-displayed-equation" style="line-height: 15px;"><span class="ql-right-eqno"> (8) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-272479a3dfe449c9597dca544da0dba4_l3.png" height="15" width="116" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#32;&#61;&#32;&#72;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#118;&#125;&#95;&#107;&#36;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   </p>



<p>In deriving the observation model, we assume that we&#8217;re only measuring the position but not the velocity.  Whereas, there are cases where the velocity must be taken into account to incorporate Doppler&#8217;s effect, for example, airplane and satellite tracking systems.</p>



<p>We&#8217;re now considering the particular case where the velocity will not be considered in the measurement process. So, we can write the measurement model as follows:</p>



<p>  <a name="id1185811560"></a><p class="ql-center-displayed-equation" style="line-height: 86px;"><span class="ql-right-eqno"> (9) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-1e3dc2df8b7bbcce1a85430e583dc4b1_l3.png" height="86" width="228" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#48;&#92;&#92;&#32;&#48;&#32;&#38;&#32;&#49;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#48;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#120;&#95;&#107;&#92;&#92;&#32;&#121;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#120;&#95;&#107;&#32;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#121;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#118;&#125;&#95;&#123;&#107;&#125;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   </p>



<p>So, we have the transformation matrix <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-a7cedbc00aa5531f310166df85e3a9bb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#72;" title="Rendered by QuickLaTeX.com" height="12" width="16" style="vertical-align: 0px;"/> as:</p>



<p>  <a name="id1002015878"></a><p class="ql-center-displayed-equation" style="line-height: 43px;"><span class="ql-right-eqno"> (10) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-3ff923d2d679dda1876441493c12f458_l3.png" height="43" width="138" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#72;&#125;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#48;&#92;&#92;&#32;&#48;&#32;&#38;&#32;&#49;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#48;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<h3>Process noise covariance matrix Q</h3>



<p>The process noise covariance matrix <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-dd440a7af28975f52f03607a49307d46_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#81;" title="Rendered by QuickLaTeX.com" height="16" width="14" style="vertical-align: -4px;"/> for 2-D Kalman filter can be written as:</p>



<p> <a name="id4182536129"></a><p class="ql-center-displayed-equation" style="line-height: 108px;"><span class="ql-right-eqno"> (11) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-fa6e54fbdcf5eb6ccf58c615404e8736_l3.png" height="108" width="304" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#113;&#117;&#97;&#100;&#92;&#92;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;&#32;&#61;&#32;&#32;&#32;&#92;&#113;&#117;&#97;&#100;&#92;&#92;&#32;&#32;&#32;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#92;&#113;&#117;&#97;&#100;&#92;&#92;&#32;&#32;&#120;&#32;&#92;&#92;&#32;&#121;&#32;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#120;&#32;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#121;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#97;&#114;&#114;&#97;&#121;&#125;&#123;&#99;&#125;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#120;&#32;&#32;&#92;&#109;&#115;&#112;&#97;&#99;&#101;&#123;&#50;&#55;&#109;&#117;&#125;&#32;&#38;&#32;&#32;&#121;&#32;&#32;&#32;&#92;&#109;&#115;&#112;&#97;&#99;&#101;&#123;&#50;&#55;&#109;&#117;&#125;&#32;&#32;&#32;&#32;&#38;&#32;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#120;&#32;&#32;&#32;&#92;&#109;&#115;&#112;&#97;&#99;&#101;&#123;&#50;&#55;&#109;&#117;&#125;&#32;&#32;&#38;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#32;&#121;&#32;&#92;&#101;&#110;&#100;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#92;&#92;&#108;&#101;&#102;&#116;&#91;&#92;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#120;&#32;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#120;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#32;&#123;&#92;&#100;&#111;&#116;&#32;&#120;&#125;&#32;&#32;&#32;&#38;&#32;&#48;&#32;&#92;&#92;&#32;&#48;&#32;&#32;&#38;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#121;&#32;&#32;&#32;&#32;&#38;&#32;&#32;&#48;&#32;&#32;&#38;&#32;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#121;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#32;&#123;&#92;&#100;&#111;&#116;&#32;&#121;&#125;&#32;&#32;&#32;&#92;&#92;&#32;&#32;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#32;&#123;&#92;&#100;&#111;&#116;&#32;&#120;&#125;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#120;&#32;&#32;&#32;&#32;&#38;&#32;&#48;&#32;&#32;&#38;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#123;&#92;&#100;&#111;&#116;&#32;&#120;&#125;&#32;&#32;&#38;&#32;&#48;&#32;&#32;&#92;&#92;&#32;&#32;&#32;&#32;&#48;&#32;&#38;&#32;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#32;&#123;&#92;&#100;&#111;&#116;&#32;&#121;&#125;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#121;&#32;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#123;&#92;&#100;&#111;&#116;&#32;&#121;&#125;&#32;&#32;&#92;&#92;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#92;&#32;&#92;&#114;&#105;&#103;&#104;&#116;&#93;&#32;&#92;&#101;&#110;&#100;&#123;&#97;&#114;&#114;&#97;&#121;&#125;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>    </p>



<p>By using the same philosophy as what we&#8217;ve discussed earlier in my <a href="https://machinelearningspace.com/object-tracking-simple-implementation-of-kalman-filter-in-python/#noise-covariance">previous tutorial</a> for 1-D Kalman filter, we can rewrite the process noise covariance matrix for 2-D Kalman filter as: </p>



<p>  <a name="id1142397845"></a><p class="ql-center-displayed-equation" style="line-height: 97px;"><span class="ql-right-eqno"> (12) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-f1f8cc6adb0ae8be066f2bef3b6701af_l3.png" height="97" width="240" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;&#32;&#61;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#52;&#125;&#125;&#123;&#52;&#125;&#32;&#32;&#32;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#51;&#125;&#125;&#123;&#50;&#125;&#32;&#32;&#32;&#32;&#38;&#32;&#48;&#92;&#92;&#32;&#48;&#32;&#32;&#38;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#52;&#125;&#125;&#123;&#52;&#125;&#32;&#32;&#32;&#38;&#32;&#32;&#48;&#32;&#32;&#38;&#32;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#51;&#125;&#125;&#123;&#50;&#125;&#32;&#32;&#32;&#92;&#92;&#32;&#32;&#32;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#51;&#125;&#125;&#123;&#50;&#125;&#32;&#32;&#38;&#32;&#48;&#32;&#32;&#38;&#32;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#32;&#32;&#32;&#32;&#38;&#32;&#48;&#32;&#32;&#92;&#92;&#32;&#32;&#32;&#48;&#32;&#38;&#32;&#32;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#51;&#125;&#125;&#123;&#50;&#125;&#32;&#32;&#32;&#32;&#38;&#32;&#48;&#32;&#38;&#32;&#32;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#32;&#32;&#32;&#92;&#92;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#97;&#32;&#32;&#32;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>       </p>



<p>Where the <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-08e8d9f62f13851b3b5512a55ed5b710_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#97;" title="Rendered by QuickLaTeX.com" height="11" width="17" style="vertical-align: -3px;"/> is the magnitude of the standard deviation of the acceleration that is basically the process noise effecting on the process noise covariance matrix. </p>



<h3>Measurement noise covariance matrix R</h3>



<p>In 2-D Kalman filter, we suppose that the measurement positions <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/> and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/> are both independent, so we can ignore any interaction between them so that the covariance <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/> and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/> is 0. We look at only the variance in the <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/> and the variance in the <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/>. </p>



<p>Then, the measurement noise covariance  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d6abdd487c56e5efbb2c9522ed4b9360_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#82;" title="Rendered by QuickLaTeX.com" height="12" width="14" style="vertical-align: 0px;"/> can be written as follows:</p>



<p> <a name="id3446937855"></a><p class="ql-center-displayed-equation" style="line-height: 59px;"><span class="ql-right-eqno"> (13) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-22ccd16096187de4df59896e0778d033_l3.png" height="59" width="157" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#113;&#117;&#97;&#100;&#92;&#92;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#82;&#125;&#32;&#61;&#32;&#32;&#32;&#92;&#113;&#117;&#97;&#100;&#92;&#92;&#32;&#32;&#32;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#92;&#113;&#117;&#97;&#100;&#92;&#92;&#32;&#32;&#120;&#32;&#92;&#92;&#32;&#121;&#32;&#92;&#92;&#92;&#101;&#110;&#100;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#97;&#114;&#114;&#97;&#121;&#125;&#123;&#99;&#125;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#120;&#32;&#32;&#92;&#109;&#115;&#112;&#97;&#99;&#101;&#123;&#50;&#55;&#109;&#117;&#125;&#32;&#38;&#32;&#32;&#121;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#92;&#92;&#108;&#101;&#102;&#116;&#91;&#92;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#120;&#32;&#38;&#32;&#32;&#48;&#32;&#32;&#92;&#92;&#48;&#32;&#38;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#121;&#32;&#32;&#92;&#92;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#92;&#32;&#92;&#114;&#105;&#103;&#104;&#116;&#93;&#32;&#92;&#101;&#110;&#100;&#123;&#97;&#114;&#114;&#97;&#121;&#125;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   </p>



<p>Great! We have discussed the essential concepts of 2-D Kalman filter, and now it&#8217;s time to implement it in Python. Let&#8217;s do it! </p>



<h2>Python Implementation</h2>



<p>Now we’re ready to implement  2-D Kalman Filter in Python.  So, let&#8217;s do it..</p>



<p>This project has three files, namely: <code>KalmanFilter.py</code>, <code>Detector.py</code>, and <code>objTracking.py</code>.</p>



<h3>KalmanFilter.py  </h3>



<p>Let&#8217;s look at first the <code>KalmanFilter.py</code>. This file contains one class called <code>KalmanFilter</code> consisting of three functions, <code>__init__()</code>, <code>predict()</code>, and <code>update()</code>.</p>



<p>We&#8217;re going to discuss these functions one by one.</p>



<h4>Function <em>Initialization</em>()</h4>



<p>The  function <code>__init__</code>() is used to initialize the class parameters.  It has six parameters, <code>dt</code>, <code>u_x</code>, <code>u_y</code>, <code>std_acc</code>, <code>x_std_meas</code> and  <code>y_std_meas</code>.  The <code>dt</code> is the sampling time or the time for 1 cycle  used  to estimate the state, <code>u_x</code> and <code>u_y</code> are the accelerations in the <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/>&#8211; and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/>-directions, respectively. The <code>std_acc</code> is the process noise magnitude, <code>x_std_meas </code>and  <code>x_std_meas</code> are the standard deviations of the measurement in the <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/>&#8211; and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/>-directions, respectively. </p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">class KalmanFilter(object):
    def __init__(self, dt, u_x,u_y, std_acc, x_std_meas, y_std_meas):
        """
        :param dt: sampling time (time for 1 cycle)
        :param u_x: acceleration in x-direction
        :param u_y: acceleration in y-direction
        :param std_acc: process noise magnitude
        :param x_std_meas: standard deviation of the measurement in x-direction
        :param y_std_meas: standard deviation of the measurement in y-direction
        """

        # Define sampling time
        self.dt = dt

        # Define the  control input variables
        self.u = np.matrix([[u_x],[u_y]])

        # Intial State
        self.x = np.matrix([[0], [0], [0], [0]])

        # Define the State Transition Matrix A
        self.A = np.matrix([[1, 0, self.dt, 0],
                            [0, 1, 0, self.dt],
                            [0, 0, 1, 0],
                            [0, 0, 0, 1]])

        # Define the Control Input Matrix B
        self.B = np.matrix([[(self.dt**2)/2, 0],
                            [0, (self.dt**2)/2],
                            [self.dt,0],
                            [0,self.dt]])

        # Define Measurement Mapping Matrix
        self.H = np.matrix([[1, 0, 0, 0],
                            [0, 1, 0, 0]])

        #Initial Process Noise Covariance
        self.Q = np.matrix([[(self.dt**4)/4, 0, (self.dt**3)/2, 0],
                            [0, (self.dt**4)/4, 0, (self.dt**3)/2],
                            [(self.dt**3)/2, 0, self.dt**2, 0],
                            [0, (self.dt**3)/2, 0, self.dt**2]]) * std_acc**2

        #Initial Measurement Noise Covariance
        self.R = np.matrix([[x_std_meas**2,0],
                           [0, y_std_meas**2]])

        #Initial Covariance Matrix
        self.P = np.eye(self.A.shape[1])
</pre>



<p>We define the matrices A, B, and H as exactly in eq.(<a href="#id2300232522">6</a>),  eq.(<a href="#id841436821">7</a>), and  (<a href="#id1002015878">10</a>), respectively.  We define also the matrices Q and R as in eq.(<a href="#id1142397845">12</a>) and  eq.(<a href="#id3446937855">13</a>) , respectively.</p>



<p>The covariance matrix <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-fda1e51b12ba3624074fcbebad72b1fc_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#80;" title="Rendered by QuickLaTeX.com" height="12" width="14" style="vertical-align: 0px;"/> can be initialized as an identity matrix whose shape is the same as the shape of the matrix A.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="47" data-enlighter-title="" data-enlighter-group="">        #Initial Covariance Matrix
        self.P = np.eye(self.A.shape[1])</pre>



<h4>Function <em>predict</em>()</h4>



<p>The function<code>predict()</code> does the prediction of the state estimate <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-fb40c7cb76549e15a8e280ea2320b405_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="19" width="21" style="vertical-align: -6px;"/> and the error covariance <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d1c004d0e4a3c0792b19fbe733318ffe_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="18" width="24" style="vertical-align: -6px;"/> . This task also called the time update process because it projects forward the current state to the next time step. We use the same equation for the time update process as we discussed earlier in our last tutorial. Please refer to Eq.(<a href="https://machinelearningspace.com/object-tracking-simple-implementation-of-kalman-filter-in-python#time-update">9</a>) and Eq.(<a href="https://machinelearningspace.com/object-tracking-simple-implementation-of-kalman-filter-in-python#time-update">10</a>) of the last tutorial.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="53" data-enlighter-title="" data-enlighter-group="">    def predict(self):
        # Refer to :Eq.(9) and Eq.(10)  in https://machinelearningspace.com/object-tracking-simple-implementation-of-kalman-filter-in-python/?preview_id=1364&amp;preview_nonce=52f6f1262e&amp;preview=true&amp;_thumbnail_id=1795

        # Update time state
        #x_k =Ax_(k-1) + Bu_(k-1)     Eq.(9)
        self.x = np.dot(self.A, self.x) + np.dot(self.B, self.u)

        # Calculate error covariance
        # P= A*P*A' + Q               Eq.(10)
        self.P = np.dot(np.dot(self.A, self.P), self.A.T) + self.Q
        return self.x[0:2]</pre>



<h4>Function <em>update</em>()</h4>



<p>During the update stage, we compute the Kalman gain  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-da0435ff7424603dc93ebe340b304e75_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#75;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="16" width="23" style="vertical-align: -3px;"/>, then update the  predicted state estimate  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-e71829888637ed2430504666db673520_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="16" width="18" style="vertical-align: -3px;"/> and predicted error  covariance  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-55b078aa5e2775a7a81369879eec9e1f_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="15" width="21" style="vertical-align: -3px;"/>.  Please refer to Eq.(<a href="https://machinelearningspace.com/object-tracking-simple-implementation-of-kalman-filter-in-python#measurement-update">11</a>),  Eq.(<a href="https://machinelearningspace.com/object-tracking-simple-implementation-of-kalman-filter-in-python#measurement-update">12</a>) and Eq.(<a href="https://machinelearningspace.com/object-tracking-simple-implementation-of-kalman-filter-in-python#measurement-update">13</a>) of the last tutorial. </p>



<p>The following is our code of the function <code>update()</code> that returns the updated positions of the <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/> and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-38461fc041e953482219abf5d4cce1cb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#121;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: -4px;"/>.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="65" data-enlighter-title="" data-enlighter-group="">    def update(self, z):

        # Refer to :Eq.(11), Eq.(12) and Eq.(13)  in https://machinelearningspace.com/object-tracking-simple-implementation-of-kalman-filter-in-python/?preview_id=1364&amp;preview_nonce=52f6f1262e&amp;preview=true&amp;_thumbnail_id=1795
        # S = H*P*H'+R
        S = np.dot(self.H, np.dot(self.P, self.H.T)) + self.R

        # Calculate the Kalman Gain
        # K = P * H'* inv(H*P*H'+R)
        K = np.dot(np.dot(self.P, self.H.T), np.linalg.inv(S))  #Eq.(11)

        self.x = np.round(self.x + np.dot(K, (z - np.dot(self.H, self.x))))   #Eq.(12)

        I = np.eye(self.H.shape[1])

        # Update error covariance matrix
        self.P = (I - (K * self.H)) * self.P   #Eq.(13)
        return self.x[0:2]</pre>



<p>Now, we&#8217;re going to look at the <code>Detector.py</code></p>



<h3>Detector.py</h3>



<p>This file plays a rule as an object detector. Since we&#8217;re detecting a simple object like a moving circle, we no need an advance object detector using machine learning. It&#8217;s enough to do by only using classical image processing algorithms.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group=""># Import python libraries
import numpy as np
import cv2

def detect(frame,debugMode):
    # Convert frame from BGR to GRAY
    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)

    if (debugMode):
        cv2.imshow('gray', gray)

    # Edge detection using Canny function
    img_edges = cv2.Canny(gray,  50, 190, 3)
    if (debugMode):
        cv2.imshow('img_edges', img_edges)

    # Convert to black and white image
    ret, img_thresh = cv2.threshold(img_edges, 254, 255,cv2.THRESH_BINARY)
    if (debugMode):
        cv2.imshow('img_thresh', img_thresh)

    # Find contours
    contours, _ = cv2.findContours(img_thresh, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)

    # Set the accepted minimum &amp; maximum radius of a detected object
    min_radius_thresh= 3
    max_radius_thresh= 30   

    centers=[]
    for c in contours:
        # ref: https://docs.opencv.org/trunk/dd/d49/tutorial_py_contour_features.html
        (x, y), radius = cv2.minEnclosingCircle(c)
        radius = int(radius)

        #Take only the valid circles
        if (radius > min_radius_thresh) and (radius &lt; max_radius_thresh):
            centers.append(np.array([[x], [y]]))
    cv2.imshow('contours', img_thresh)
    return centers
</pre>



<p>The <code>Detector.py</code> only contains one function, that is the <code>detect()</code>. It has two arguments, the<code>frame</code> and <code>debugMode</code>.  When calling this function, it will convert a video frame passed through the <code>frame</code> argument to a Grayscale image using <code>cv2.cvtColor()</code>.  After that, it detects the edge of the object in the image using Canny edge detection.</p>



<p>Then, using <code>cv2.threshold()</code> function, the image is converted to a binary image. A threshold value is applied.  If a pixel value is greater than a threshold value, it is assigned a specific value (e.g. 255, white), else it will be converted to 0, or black.</p>



<p>From the binary image, then we find the contour representing an object in the image using <code>cv2.findContours()</code>. </p>



<p>Finally, in every detected contour,  we find the circumcircle of an object using the function <code>cv2.minEnclosingCircle()</code>. The circle candidate must meet the minimum and maximum radius values. </p>



<p>Since this function is purposed to detected multiple objects, it returns the centers of the detected objects. Meaning that we can use this function not only for detecting one object but also for detecting multi-object.</p>



<p>Every processing step can be displayed by setting the <code>debugMode</code>=1 when calling the function <code>detect()</code>.</p>



<p>Now we&#8217;re going to discuss the file <code>objTracking.py</code>.  </p>



<h2>objTracking.py</h2>



<p>This is the main file of this project that we&#8217;ll execute to track an object. At the beginning of this file, we import function <code>detect()</code> from the file <code>Detector.py</code>, and class <code>KalmanFilter</code> from the file <code>KalmanFilter.py</code>.</p>



<p>In the function <code>main()</code>, we create the object of the class<code>KalmanFilter</code>  as follows:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="21" data-enlighter-title="" data-enlighter-group="">    #Create KalmanFilter object KF
    #KalmanFilter(dt, u_x, u_y, std_acc, x_std_meas, y_std_meas)
    KF = KalmanFilter(0.1, 1, 1, 1, 0.1,0.1)</pre>



<p>We set the parameters values as: <code>dt</code> = 0.1 , <code>u_x</code> = 1, <code>u_y</code>=1, <code>std_acc</code> = 1, <code>y_std_meas</code> =1. You can try to set other values and observed the performance.</p>



<p>After that, we create the object of the cv2.VideoCapture():</p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="25" data-enlighter-title="" data-enlighter-group="">    # Create opencv video capture object
    VideoCap = cv2.VideoCapture('video/OneBall.avi')</pre>



<p>Since the video is read in RGB format, it is necessary to convert it to Grayscale format. For this task, we perform it in the file <code>Detector.py</code> as we discussed already earlier.</p>



<p>In the while loop and in every looping, we read a video frame and detect the center of an object in that frame. If the center is detected, then call the Kalman filter prediction function <code>KF.predict()</code> and  the Kalman filter updating function <code>KF.upadate()</code> to update the position of the object given a new measurement value (a detected center) and a prediction position.</p>



<p>The rest of the cod is to draw a circle and two rectangles. The circle is for the measured position and the rectangles are for the predicted and updated positions.</p>



<p>Here is the complete code for <code>objTracking.py</code>.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">import cv2
from Detector import detect
from KalmanFilter import KalmanFilter

def main():

    HiSpeed= 100
    ControlSpeedVar = 30  #Lowest: 1 - Highest:100
    debugMode=1

    #Create KalmanFilter object KF
    #KalmanFilter(dt, u_x, u_y, std_acc, x_std_meas, y_std_meas)
    KF = KalmanFilter(0.1, 1, 1, 1, 0.1,0.1)

    # Create opencv video capture object
    VideoCap = cv2.VideoCapture('video/OneBall.avi')

    while(True):
        # Read frame
        ret, frame = VideoCap.read()

        # Detect object
        centers = detect(frame,debugMode)
        
        # If centroids are detected then track them
        if (len(centers) > 0):

            # Draw the detected circle
            cv2.circle(frame, (int(centers[0][0]), int(centers[0][1])), 10, (0, 191, 255), 2)

            # Predict
            (x, y) = KF.predict()
            # Draw a rectangle as the predicted object position
            cv2.rectangle(frame, (x - 15, y - 15), (x + 15, y + 15), (255, 0, 0), 2)

            # Update
            (x1, y1) = KF.update(centers[0])
            # Draw a rectangle as the estimated object position
            cv2.rectangle(frame, (x1 - 15, y1 - 15), (x1 + 15, y1 + 15), (0, 0, 255), 2)

            cv2.putText(frame, "Estimated Position", (x1 + 15, y1 + 10), 0, 0.5, (0, 0, 255), 2)
            cv2.putText(frame, "Predicted Position", (x + 15, y), 0, 0.5, (255, 0, 0), 2)
            cv2.putText(frame, "Measured Position", (centers[0][0] + 15, centers[0][1] - 15), 0, 0.5, (0,191,255), 2)

        cv2.imshow('image', frame)

        if cv2.waitKey(2) &amp; 0xFF == ord('q'):
            VideoCap.release()
            cv2.destroyAllWindows()
            break

        cv2.waitKey(HiSpeed-ControlSpeedVar+1)


if __name__ == "__main__":
    # execute main
    main()</pre>



<p>To run this program, I provide a video that you can download it <a href="https://github.com/RahmadSadli/2-D-Kalman-Filter/tree/master/video/randomball.avi">here</a>.</p>



<p>The complete code of this project can be found in the link below:</p>



<p><a href="https://github.com/RahmadSadli/2-D-Kalman-Filter">https://github.com/RahmadSadli/2-D-Kalman-Filter</a></p>



<p>This is the end of this tutorial and see you in the next tutorial.</p>



<h4>Recent posts:</h4>



<ul><li><a href="https://machinelearningspace.com/object-tracking-simple-implementation-of-kalman-filter-in-python/">Object Tracking: Simple Implementation of Kalman</a></li><li><a href="https://machinelearningspace.com/nlp-sentiment-analysis-using-keras-embedding-layer-in-tensorflow-2-0/">Sentiment Analysis Using Keras Embedding Layer in TensorFlow 2.0</a></li><li><a href="https://machinelearningspace.com/the-beginners-guide-to-implementing-yolov3-in-tensorflow-2-0-part-1/">The beginner’s guide to implementing YOLOv3 in TensorFlow 2.0</a></li></ul>



<h2>Reference</h2>



<ol><li><a href="https://www.cs.unc.edu/~welch/media/pdf/kalman_intro.pdf">Greg Welch and Gary Bishop, &#8216;An Introduction to the Kalman Filter&#8217;, July 24, 2006</a> </li><li><a href="https://www.intechopen.com/books/introduction-and-implementations-of-the-kalman-filter/introduction-to-kalman-filter-and-its-applications#B5">Youngjoo Kim and Hyochoong Bang, Introduction to Kalman Filter and Its Applications, November 2018</a></li><li><a href="http://studentdavestutorials.weebly.com/">Student Dave, Kalman Filter With Matlab Code</a></li></ol>
<p>The post <a rel="nofollow" href="https://machinelearningspace.com/2d-object-tracking-using-kalman-filter/">Object Tracking: 2-D Object Tracking using Kalman Filter in Python</a> appeared first on <a rel="nofollow" href="https://machinelearningspace.com">Machine Learning Space</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://machinelearningspace.com/2d-object-tracking-using-kalman-filter/feed/</wfw:commentRss>
			<slash:comments>8</slash:comments>
		
		<enclosure url="https://github.com/RahmadSadli/2-D-Kalman-Filter/tree/master/video/randomball.avi" length="0" type="video/avi" />

			</item>
		<item>
		<title>Object Tracking: Simple Implementation of Kalman Filter in Python</title>
		<link>https://machinelearningspace.com/object-tracking-python/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=object-tracking-python</link>
					<comments>https://machinelearningspace.com/object-tracking-python/#comments</comments>
		
		<dc:creator><![CDATA[rahmadsadli]]></dc:creator>
		<pubDate>Sat, 15 Feb 2020 10:23:38 +0000</pubDate>
				<category><![CDATA[Object Tracking]]></category>
		<category><![CDATA[Python Programming]]></category>
		<category><![CDATA[2D Kalman filter]]></category>
		<category><![CDATA[2D Object Tracking]]></category>
		<category><![CDATA[Kalman Filter]]></category>
		<category><![CDATA[Kalman Filter 2D]]></category>
		<category><![CDATA[Kalman Filter in Python]]></category>
		<category><![CDATA[Kalman Filter Python]]></category>
		<category><![CDATA[KF]]></category>
		<category><![CDATA[Learn how to implement Kalman filter in Python]]></category>
		<category><![CDATA[Python]]></category>
		<guid isPermaLink="false">https://machinelearningspace.com/?p=1364</guid>

					<description><![CDATA[<p>In this tutorial, I will provide the concept and implementation of a popular object tracking algorithm, namely Kalman filter.</p>
<p>The post <a rel="nofollow" href="https://machinelearningspace.com/object-tracking-python/">Object Tracking: Simple Implementation of Kalman Filter in Python</a> appeared first on <a rel="nofollow" href="https://machinelearningspace.com">Machine Learning Space</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<div class="wp-block-image"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="1280" height="836" src="https://machinelearningspace.com/wp-content/uploads/2020/02/kalman15.png" alt="Kalman Filter" class="wp-image-1940" srcset="https://machinelearningspace.com/wp-content/uploads/2020/02/kalman15.png 1280w, https://machinelearningspace.com/wp-content/uploads/2020/02/kalman15-300x196.png 300w, https://machinelearningspace.com/wp-content/uploads/2020/02/kalman15-1024x669.png 1024w, https://machinelearningspace.com/wp-content/uploads/2020/02/kalman15-768x502.png 768w, https://machinelearningspace.com/wp-content/uploads/2020/02/kalman15-459x300.png 459w" sizes="(max-width: 1280px) 100vw, 1280px" /></figure></div>



<h2>Introduction </h2>



<p>Kalman filtering is an algorithm that allows us to estimate the states of a system given the observations or measurements. It is a useful tool for a variety of different applications including object tracking and autonomous navigation systems, economics prediction, etc.  </p>



<p>Even though it is a relatively simple algorithm, but it&#8217;s still not easy for some people to understand and implement it in a computer program such as Python. Therefore, the aim of this tutorial is to help some people to comprehend easily the implementation of Kalman filter in Python. </p>



<p>While there are some excellent references detailing the theory behind the Kalman filter, so we&#8217;re not going to dive deeply into the theoretical details. Instead, this article presents the Kalman filter from a practical usage perspective only.  </p>



<p>After completing this tutorial, you will discover a basic concept of applying Kalman filter in tracking a moving object in a 1-D direction using Python. So, this tutorial will become a prerequisite for a multi-object tracking that I will be presenting on this blog in the near future. </p>



<h2>Kalman Filtering Algorithm </h2>



<p>Since our purpose of this tutorial is to implement the Kalman filter in computer programing code, we&#8217;ll only consider this tutorial for the Discrete Kalman filter.</p>



<p>The basic idea of the Kalman filter is by using the prior knowledge of the state, the filter makes a forward projection state or predicts the next state.  </p>



<p>The Kalman Filter is intended to estimate the state of a system at time <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#107;" title="Rendered by QuickLaTeX.com" height="13" width="9" style="vertical-align: 0px;"/>  using the linear stochastic difference equation assuming that the state of a system at a time <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#107;" title="Rendered by QuickLaTeX.com" height="13" width="9" style="vertical-align: 0px;"/> evolved from the prior state at time <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7dfca2445cd362ac42fb9032c9cf2367_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#107;&#45;&#49;" title="Rendered by QuickLaTeX.com" height="14" width="39" style="vertical-align: -1px;"/> as written in the following form: </p>



<p><a name="id2022939822"></a><p class="ql-center-displayed-equation" style="line-height: 16px;"><span class="ql-right-eqno"> (1) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-06ea8b706d9fbe2481178727873f67ba_l3.png" height="16" width="227" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#61;&#65;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#66;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#117;&#125;&#32;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#119;&#125;&#32;&#95;&#123;&#107;&#45;&#49;&#125;&#36;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p> </p>



<p>It is always paired with the measurement model <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d8c70f611674eac31f2174c1d57c4c2a_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="11" width="16" style="vertical-align: -3px;"/> that describes a relation between the state and measurement at the current step <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#107;" title="Rendered by QuickLaTeX.com" height="13" width="9" style="vertical-align: 0px;"/>. It is written as:</p>



<p><a name="id1545965916"></a><p class="ql-center-displayed-equation" style="line-height: 15px;"><span class="ql-right-eqno"> (2) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-a0c41fb138f388eb08ead33521970b3d_l3.png" height="15" width="116" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#32;&#61;&#32;&#72;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#118;&#125;&#95;&#107;&#36;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p> </p>



<p>where:</p>



<ul><li><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-816b613a4f79d4bf9cb51396a9654120_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#65;" title="Rendered by QuickLaTeX.com" height="12" width="13" style="vertical-align: 0px;"/>, a matrix <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-64b4341c742f062175d68ed2b6bd16b9_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#110;&#32;&#120;&#32;&#110;" title="Rendered by QuickLaTeX.com" height="8" width="32" style="vertical-align: 0px;"/>, is the state transition matrix relating the previous time step <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-41906102c84fad955b69ae2999de510e_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#123;&#107;&#45;&#49;&#125;" title="Rendered by QuickLaTeX.com" height="14" width="39" style="vertical-align: -1px;"/> to the current state <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#107;" title="Rendered by QuickLaTeX.com" height="13" width="9" style="vertical-align: 0px;"/>  </li><li><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-c74288aabc0e2ca280d25d92bf1a1ec2_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#66;" title="Rendered by QuickLaTeX.com" height="12" width="14" style="vertical-align: 0px;"/>, a matrix <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-c7e5a8e4b528656de48409616db0647e_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#110;&#32;&#120;&#32;&#108;" title="Rendered by QuickLaTeX.com" height="13" width="26" style="vertical-align: 0px;"/>, is a control input matrix applied to the optional control input <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-61ec61fc46244a8464d5a029bd9f2714_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#117;&#125;&#95;&#123;&#107;&#45;&#49;&#125;" title="Rendered by QuickLaTeX.com" height="12" width="36" style="vertical-align: -4px;"/>  </li><li> <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-a7cedbc00aa5531f310166df85e3a9bb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#72;" title="Rendered by QuickLaTeX.com" height="12" width="16" style="vertical-align: 0px;"/>, a matrix <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-1ee34b689c5e63ae688a6b646d5e136d_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#109;&#32;&#120;&#32;&#110;" title="Rendered by QuickLaTeX.com" height="8" width="37" style="vertical-align: 0px;"/>, is a transformation matrix that transforms the state into the measurement domain</li><li><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-59bdc54ba1166656135f2395bd504a15_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#119;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="12" width="22" style="vertical-align: -3px;"/> and  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-79656d75ea4b72d9fddd6e5788be71dd_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#118;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="12" width="18" style="vertical-align: -3px;"/>  represent the <em>process noise vector</em> with the covariance <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-dd440a7af28975f52f03607a49307d46_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#81;" title="Rendered by QuickLaTeX.com" height="16" width="14" style="vertical-align: -4px;"/> and the <em>measurement noise</em> <em>vector</em> with the covariance <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d6abdd487c56e5efbb2c9522ed4b9360_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#82;" title="Rendered by QuickLaTeX.com" height="12" width="14" style="vertical-align: 0px;"/>, respectively. They are assumed statistically independence Gaussian noise with the normal probability distribution.</li></ul>



<p><p class="ql-center-displayed-equation" style="line-height: 40px;"><span class="ql-right-eqno"> (3) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-c208ddaa5121243410dd57313c0aa4b8_l3.png" height="40" width="122" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#36;&#112;&#92;&#108;&#101;&#102;&#116;&#40;&#32;&#119;&#32;&#92;&#114;&#105;&#103;&#104;&#116;&#41;&#32;&#92;&#115;&#105;&#109;&#32;&#78;&#40;&#48;&#44;&#81;&#41;&#92;&#92;&#36;&#32;&#36;&#112;&#92;&#108;&#101;&#102;&#116;&#40;&#32;&#118;&#32;&#92;&#114;&#105;&#103;&#104;&#116;&#41;&#32;&#32;&#92;&#115;&#105;&#109;&#32;&#78;&#40;&#48;&#44;&#82;&#41;&#36;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<h3>Kalman Equations</h3>



<p>To explain the Kalman equations, we are going to use two terms, <em>a priori</em> and <em>a posteriori</em> estimates. The <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d7b731c38ac15419edd5504ef15e4e6a_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="19" width="21" style="vertical-align: -6px;"/> and the  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d1c004d0e4a3c0792b19fbe733318ffe_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="18" width="24" style="vertical-align: -6px;"/> are the <em>a priori</em> estimates for the <em>state</em> and <em>error covariance</em>, respectively. And  The <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-9a68cddcdb5380035f35ff5177b9753a_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="16" width="18" style="vertical-align: -3px;"/> and the  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-55b078aa5e2775a7a81369879eec9e1f_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="15" width="21" style="vertical-align: -3px;"/> are the <em>a </em> <em>posteriori</em>  estimates for the <em>state</em> and <em>error covariance</em>, respectively. </p>



<p>The equations of Kalman filter are divided into two groups: the <em>time update equations </em>also called the predictor equations and <em>measurement update equations</em> can be thought of also as the corrector equations.  In some literature,  this is sometimes called <em>predictor-corrector</em> or <em>prediction-update</em>. </p>



<p>The time update equations are responsible for projecting forward the current <em>state </em>and <em>error covariance</em> estimates to obtain the <em>a priori </em>estimates for the next time step. The <em>measurement update</em> equations are responsible for improving the <em>a posteriori</em> estimate by incorporating a new measurement into the <em>a priori</em> estimate. </p>



<h4><strong>Prediction </strong></h4>



<p>In time update equation we&#8217;re going to calculate the predicted state estimate  (<em>a priori </em>state estimates) <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d7b731c38ac15419edd5504ef15e4e6a_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="19" width="21" style="vertical-align: -6px;"/> and predicted error covariance (<em>a priori </em>error covariance estimates) <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d1c004d0e4a3c0792b19fbe733318ffe_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="18" width="24" style="vertical-align: -6px;"/>. </p>



<p>First,  the  <em>a priori</em> state estimate  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d7b731c38ac15419edd5504ef15e4e6a_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="19" width="21" style="vertical-align: -6px;"/>  is  predicted  by using the state dynamic equation model that projects forward one step in time as follows:</p>



<p> <a name="id2627360130"></a><p class="ql-center-displayed-equation" style="line-height: 19px;"><span class="ql-right-eqno"> (4) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-aea0eb011e49bbd793e354f0767d856a_l3.png" height="19" width="168" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#32;&#61;&#32;&#65;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#66;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#117;&#125;&#32;&#95;&#123;&#107;&#45;&#49;&#125;&#36;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p> </p>



<p>where: <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-204a564fb0708c05357d0b2f5a02efb3_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#123;&#107;&#45;&#49;&#125;" title="Rendered by QuickLaTeX.com" height="17" width="35" style="vertical-align: -4px;"/> is the previous estimated state (<em>a posteriori</em> state estimate).</p>



<p>Next, the error covariance matrix <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d1c004d0e4a3c0792b19fbe733318ffe_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="18" width="24" style="vertical-align: -6px;"/> is predicted by:</p>



<p><a name="id3264452005"></a><p class="ql-center-displayed-equation" style="line-height: 21px;"><span class="ql-right-eqno"> (5) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-59b5e3b903ccc9c44b98be920e7d999a_l3.png" height="21" width="163" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#32;&#61;&#32;&#65;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#65;&#94;&#84;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;&#32;&#36;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<p>where <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-25996dac81fd6d1fffba733824e90d94_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#123;&#107;&#45;&#49;&#125;" title="Rendered by QuickLaTeX.com" height="16" width="38" style="vertical-align: -4px;"/> is the previous estimated error covariance matrix and <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-33fdf82f72aa7e49e0fb04d66152a542_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;" title="Rendered by QuickLaTeX.com" height="15" width="14" style="vertical-align: -3px;"/> is the process noise covariance.</p>



<h4><strong>Update</strong></h4>



<p>During the update stage, we compute the Kalman gain <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-da0435ff7424603dc93ebe340b304e75_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#75;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="16" width="23" style="vertical-align: -3px;"/> as follows:</p>



<p> <p class="ql-center-displayed-equation" style="line-height: 21px;"><span class="ql-right-eqno"> (6) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-58ed3fddcf75b2441156ad262aa5dd17_l3.png" height="21" width="234" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#75;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#72;&#94;&#84;&#36;&#40;&#72;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#72;&#94;&#84;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#82;&#125;&#32;&#41;&#94;&#123;&#45;&#49;&#125;&#36;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<p>where <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-db27aa7cb808171d5469d713b775b27f_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#82;&#125;" title="Rendered by QuickLaTeX.com" height="12" width="16" style="vertical-align: 0px;"/> is the measurement noise covariance.</p>



<p>After that, we perform the actual measurement <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-1f5c35714026569c0654b624b07d1131_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#122;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="11" width="16" style="vertical-align: -3px;"/>.&nbsp; </p>



<p>In order to update the predicted state estimate <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d7b731c38ac15419edd5504ef15e4e6a_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="19" width="21" style="vertical-align: -6px;"/>, we need to measure the measurement residual. It is the difference between the true measurement <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-1f5c35714026569c0654b624b07d1131_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#122;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="11" width="16" style="vertical-align: -3px;"/> and the previous estimated measurement <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7b664c7cbcd319b4b74f1e666c60e22f_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#72;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#32;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="19" width="37" style="vertical-align: -6px;"/>. So the  measurement residual is <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-cbc91a00242d938a1ad2ea442f8bd24d_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#122;&#125;&#95;&#107;&#32;&#45;&#32;&#72;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#32;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="19" width="76" style="vertical-align: -6px;"/>. </p>



<p>To update the predicted state estimate called updated state estimed  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-e71829888637ed2430504666db673520_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="16" width="18" style="vertical-align: -3px;"/> is proceed by performing the summation of the <em>a priori</em> projected state estimate  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d7b731c38ac15419edd5504ef15e4e6a_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="19" width="21" style="vertical-align: -6px;"/> to the product of the Kalman gain and the measurement residual. It can be written as follows:</p>



<p> <p class="ql-center-displayed-equation" style="line-height: 20px;"><span class="ql-right-eqno"> (7) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-b27ce28e8035db16da1865d5d5f6c0ec_l3.png" height="20" width="202" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#75;&#125;&#95;&#107;&#40;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#45;&#72;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#32;&#94;&#123;&#45;&#125;&#95;&#107;&#41;&#36;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   </p>



<p>After obtaining the updated state estimate, the filter calculates the updated error covariance <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-c5cd44b07c1b052582b151b1086fdaf8_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="15" width="21" style="vertical-align: -3px;"/>, which will be used in the next time step. </p>



<p><p class="ql-center-displayed-equation" style="line-height: 20px;"><span class="ql-right-eqno"> (8) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-8c376950b93cfa4b35868a1c1d9f1d86_l3.png" height="20" width="155" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#36;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#107;&#32;&#61;&#32;&#40;&#73;&#32;&#45;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#75;&#125;&#95;&#107;&#72;&#41;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#36;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>    </p>



<p>where <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-14b16a74c9ddcc6f9be3e94b9c8d8f08_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#73;" title="Rendered by QuickLaTeX.com" height="12" width="9" style="vertical-align: 0px;"/> is an identity matrix.</p>



<p>The following tables 1 and 2 show the summary of the Kalman filter algorithm. </p>



<p class="has-text-align-center"><strong id="time-update">Tabel 1</strong>. Discrete Kalman Time update equations</p>



<p class="has-text-align-center">=======================================</p>



<p class="has-text-align-left"><a name="id2572786472"></a><p class="ql-center-displayed-equation" style="line-height: 19px;"><span class="ql-right-eqno"> (9) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-3425274dcf54ca87963324513101694c_l3.png" height="19" width="168" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#32;&#61;&#32;&#65;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#66;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#117;&#125;&#32;&#95;&#123;&#107;&#45;&#49;&#125;&#36;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p> <br><a name="id599149761"></a><p class="ql-center-displayed-equation" style="line-height: 21px;"><span class="ql-right-eqno"> (10) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-fada71647b5284c0b703b2e7a1b0115e_l3.png" height="21" width="163" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#32;&#61;&#32;&#65;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#65;&#94;&#84;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;&#32;&#36;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<p class="has-text-align-center">  =======================================</p>



<p class="has-text-align-center"> <strong id="measurement-update">Tabel </strong>2.  Discrete Kalman filter measurement update equations. </p>



<p class="has-text-align-center">  ========================================================</p>



<p><a name="id2025936140"></a><p class="ql-center-displayed-equation" style="line-height: 21px;"><span class="ql-right-eqno"> (11) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-115cc4aaa653cd101d7e07e30d4b8ac9_l3.png" height="21" width="234" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#75;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#72;&#94;&#84;&#36;&#40;&#72;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#72;&#94;&#84;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#82;&#125;&#32;&#41;&#94;&#123;&#45;&#49;&#125;&#36;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p><br><a name="id3918340552"></a><p class="ql-center-displayed-equation" style="line-height: 20px;"><span class="ql-right-eqno"> (12) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-6c1508e1393d43caa12fb8d548432d67_l3.png" height="20" width="202" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#75;&#125;&#95;&#107;&#40;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#45;&#72;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#32;&#94;&#123;&#45;&#125;&#95;&#107;&#41;&#36;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  <br><a name="id214309461"></a><p class="ql-center-displayed-equation" style="line-height: 20px;"><span class="ql-right-eqno"> (13) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-951da32dc0f231f7dd5d12e67422de5b_l3.png" height="20" width="155" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#36;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#107;&#32;&#61;&#32;&#40;&#73;&#32;&#45;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#75;&#125;&#95;&#107;&#72;&#41;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#36;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   </p>



<p class="has-text-align-center">   ======================================================== </p>



<p>The figure below descibes the cycle of ongoing discrete Kalman filter. </p>



<div class="wp-block-image"><figure class="aligncenter size-large is-resized"><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/uploads/2020/02/Kalman.png" alt="Kalman Filter" class="wp-image-1502" width="548" height="297" srcset="https://machinelearningspace.com/wp-content/uploads/2020/02/Kalman.png 1021w, https://machinelearningspace.com/wp-content/uploads/2020/02/Kalman-300x162.png 300w, https://machinelearningspace.com/wp-content/uploads/2020/02/Kalman-768x416.png 768w, https://machinelearningspace.com/wp-content/uploads/2020/02/Kalman-550x298.png 550w" sizes="(max-width: 548px) 100vw, 548px" /><figcaption>Source:  <a href="https://www.cs.unc.edu/~welch/media/pdf/kalman_intro.pdf">Greg Welch and Gary Bishop, &#8216;An Introduction to the Kalman Filter&#8217;, July 24, 2006</a>  </figcaption></figure></div>



<p>Initially,  to implement the Kalman filter we need to guess an initial state  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-204a564fb0708c05357d0b2f5a02efb3_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#123;&#107;&#45;&#49;&#125;" title="Rendered by QuickLaTeX.com" height="17" width="35" style="vertical-align: -4px;"/>  and error covariance matrix <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-25996dac81fd6d1fffba733824e90d94_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#123;&#107;&#45;&#49;&#125;" title="Rendered by QuickLaTeX.com" height="16" width="38" style="vertical-align: -4px;"/> .  The current state estimate will be projected forward to obtain the <em>a priori </em>estimates for the next time step by the time update equations. Then, using the actual measurement, the measurement update equations adjust the projected estimate at that time.   </p>



<p>That&#8217;s it for Kalman filter theory&#8230;</p>



<p>Next&#8230;</p>



<p>We&#8217;re going to look at a simple one-dimensional object tracking problem.</p>



<h2>Implementation</h2>



<p>In this example, we want to model a moving object following a simple track as given in the following function:</p>



<p><p class="ql-center-displayed-equation" style="line-height: 21px;"><span class="ql-right-eqno"> (14) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-ad8be657e58e220d0e8982df54a35fb8_l3.png" height="21" width="148" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#102;&#40;&#116;&#41;&#61;&#48;&#46;&#49;&#42;&#40;&#116;&#94;&#50;&#45;&#116;&#41;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p></p>



<p>Our task is to track that object using the Kalman filter from time <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-fd9cb27edab3f0a8a249bc80cc9c6ee2_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#116;" title="Rendered by QuickLaTeX.com" height="12" width="6" style="vertical-align: 0px;"/>=0 to <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-fd9cb27edab3f0a8a249bc80cc9c6ee2_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#116;" title="Rendered by QuickLaTeX.com" height="12" width="6" style="vertical-align: 0px;"/>=100<img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-1edc883862ceed1a21913f60358e31d8_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#115;" title="Rendered by QuickLaTeX.com" height="8" width="8" style="vertical-align: 0px;"/>. </p>



<p>So, let&#8217;s get started..</p>



<h3>State transition matrix A and control matrix B</h3>



<p>Based on Kinematic equation, the relation between the position <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#120;" title="Rendered by QuickLaTeX.com" height="8" width="10" style="vertical-align: 0px;"/> and velocity <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-770d10fb0f6590bea84ce31bd1af6d0c_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#100;&#111;&#116;&#32;&#120;" title="Rendered by QuickLaTeX.com" height="12" width="10" style="vertical-align: 0px;"/> can be written as the following:</p>



<p class="has-text-align-left"><strong>Position</strong>:</p>



<p><p class="ql-center-displayed-equation" style="line-height: 36px;"><span class="ql-right-eqno"> (15) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-702f586643825678d190f675f8a1f148_l3.png" height="36" width="269" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#120;&#95;&#123;&#107;&#125;&#32;&#61;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#32;&#116;&#43;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#125;&#92;&#92;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<p class="has-text-align-left"><strong>Velocity:</strong></p>



<p><p class="ql-center-displayed-equation" style="line-height: 16px;"><span class="ql-right-eqno"> (16) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-13da39ea7d7977908f9a8dee29f2d858_l3.png" height="16" width="157" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#125;&#32;&#61;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<p class="has-text-align-left">where: <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-64ed2446e3b5dc81c9f5eaa1326f2297_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#100;&#100;&#111;&#116;&#32;&#120;" title="Rendered by QuickLaTeX.com" height="12" width="10" style="vertical-align: 0px;"/> is the acceleration.</p>



<p>Since the state vector <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-2c0c9cc1d15c8bbf6f8800e7c7d50482_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;" title="Rendered by QuickLaTeX.com" height="11" width="18" style="vertical-align: -3px;"/> contains the position and velocity,  we can model this example as follows: </p>



<p><p class="ql-center-displayed-equation" style="line-height: 44px;"><span class="ql-right-eqno"> (17) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-e8cd6869e2095435380e65afb15cd487_l3.png" height="44" width="346" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#120;&#95;&#107;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#32;&#116;&#43;&#32;&#49;&#47;&#50;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#125;&#92;&#92;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p></p>



<p>These linear equations can be written in matrix form as: </p>



<p> <a name="id286783683"></a><p class="ql-center-displayed-equation" style="line-height: 44px;"><span class="ql-right-eqno"> (18) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-e6e2d565a04cf7a2595913099abbbba6_l3.png" height="44" width="358" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#120;&#95;&#107;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#92;&#92;&#48;&#32;&#38;&#32;&#49;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#43;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#92;&#92;&#32;&#32;&#32;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p> </p>



<p>The equation (<a href="#id286783683">18</a>) can be written as:</p>



<p><a name="id1910025905"></a><p class="ql-center-displayed-equation" style="line-height: 44px;"><span class="ql-right-eqno"> (19) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-bbfcb3ed38a36a507bd6b4fbd04544d5_l3.png" height="44" width="278" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#92;&#92;&#48;&#32;&#38;&#32;&#49;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#43;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#92;&#92;&#32;&#32;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<p>By comparing the eq.(<a href="#id1910025905">19</a>) to the eq.(<a href="#id2022939822">1</a>), we have the following relations:</p>



<p>   <p class="ql-center-displayed-equation" style="line-height: 43px;"><span class="ql-right-eqno"> (20) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-5b5b87509b4a41be145d809c4c8d2a5e_l3.png" height="43" width="99" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#65;&#125;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#92;&#92;&#48;&#32;&#38;&#32;&#49;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   <br>and<br>  <p class="ql-center-displayed-equation" style="line-height: 44px;"><span class="ql-right-eqno"> (21) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-a46f68744e726caaa523f96779dbbb09_l3.png" height="44" width="106" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#66;&#125;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#92;&#92;&#32;&#32;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>    </p>



<h3>Transformation matrix H</h3>



<p>Measurements of the system can be performed according to the model in eq.(<a href="#id1545965916">2</a>):</p>



<p> <a name="id1165590931"></a><p class="ql-center-displayed-equation" style="line-height: 15px;"><span class="ql-right-eqno"> (22) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-dffc1ab5738202e395807387e1aa90a0_l3.png" height="15" width="116" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#32;&#61;&#32;&#72;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#118;&#125;&#95;&#107;&#36;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<p>Since we only measure the position, the eq.(<a href="#id1165590931">22</a>) can be written in matrix form as:</p>



<p>  <a name="id2351449942"></a><p class="ql-center-displayed-equation" style="line-height: 43px;"><span class="ql-right-eqno"> (23) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-c80b4c140eedfcfe40d64a73196afd0c_l3.png" height="43" width="169" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#48;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#120;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#107;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#118;&#125;&#95;&#123;&#107;&#125;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<p>So, we have the transformation matrix <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-a7cedbc00aa5531f310166df85e3a9bb_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#72;" title="Rendered by QuickLaTeX.com" height="12" width="16" style="vertical-align: 0px;"/> as follows:</p>



<p><p class="ql-center-displayed-equation" style="line-height: 22px;"><span class="ql-right-eqno"> (24) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-cbc1cb54d8e43431aafe6618c2e5dc24_l3.png" height="22" width="85" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#72;&#125;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#48;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<h3 id="noise-covariance">Proess noise covariance matrix Q</h3>



<p>The process noise covariance matrix  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-33fdf82f72aa7e49e0fb04d66152a542_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;" title="Rendered by QuickLaTeX.com" height="15" width="14" style="vertical-align: -3px;"/> or error in the state process is basically can be written as follows:</p>



<p>  <p class="ql-center-displayed-equation" style="line-height: 44px;"><span class="ql-right-eqno"> (25) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-b7cf592111f9b5499cc484ad7ff0ff22_l3.png" height="44" width="143" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#120;&#32;&#38;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#120;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#123;&#92;&#100;&#111;&#116;&#32;&#120;&#125;&#32;&#32;&#32;&#92;&#92;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#123;&#92;&#100;&#111;&#116;&#32;&#120;&#125;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#120;&#32;&#38;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#32;&#123;&#92;&#100;&#111;&#116;&#32;&#120;&#125;&#32;&#32;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>   </p>



<p>where <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-9872821fe0eb3dc80c323d67158edf64_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#120;" title="Rendered by QuickLaTeX.com" height="11" width="18" style="vertical-align: -3px;"/> and  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-1e6d7b56468d3ad8df4923d365cc6356_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#123;&#92;&#100;&#111;&#116;&#32;&#120;&#125;" title="Rendered by QuickLaTeX.com" height="11" width="18" style="vertical-align: -3px;"/> are the standard deviations of the position and the velocity, respectively. </p>



<p>We can define the standard deviation of position as the standard deviation of acceleration  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-08e8d9f62f13851b3b5512a55ed5b710_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#97;" title="Rendered by QuickLaTeX.com" height="11" width="17" style="vertical-align: -3px;"/>  multiplied by  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-557899f1df8b2f293c6c988e6e0d2dbd_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#125;&#123;&#50;&#125;" title="Rendered by QuickLaTeX.com" height="24" width="24" style="vertical-align: -6px;"/>. The reason for this is because the <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-557899f1df8b2f293c6c988e6e0d2dbd_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#125;&#123;&#50;&#125;" title="Rendered by QuickLaTeX.com" height="24" width="24" style="vertical-align: -6px;"/>  is the effect that will have on the position. Therefore, by multiplying the standard deviation of the acceleration by <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-557899f1df8b2f293c6c988e6e0d2dbd_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#125;&#123;&#50;&#125;" title="Rendered by QuickLaTeX.com" height="24" width="24" style="vertical-align: -6px;"/> we&#8217;ll have the standard deviation of the position. </p>



<p>Similarly, if we multiply the standard deviation of the acceleration by delta  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-6f617a09a3f49856b832a0a66bc803f3_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;" title="Rendered by QuickLaTeX.com" height="12" width="21" style="vertical-align: 0px;"/>, we&#8217;ll get the standard deviation of the velocity. </p>



<p>So, we can write the process covariance noise <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-33fdf82f72aa7e49e0fb04d66152a542_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;" title="Rendered by QuickLaTeX.com" height="15" width="14" style="vertical-align: -3px;"/> as follows:</p>



<p> <p class="ql-center-displayed-equation" style="line-height: 54px;"><span class="ql-right-eqno"> (26) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-7c8dbe73601ba1e1f1f3d48ae5f503d5_l3.png" height="54" width="152" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#52;&#125;&#125;&#123;&#52;&#125;&#32;&#32;&#38;&#32;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#51;&#125;&#125;&#123;&#50;&#125;&#32;&#32;&#32;&#32;&#92;&#92;&#32;&#32;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#51;&#125;&#125;&#123;&#50;&#125;&#32;&#32;&#38;&#32;&#32;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#32;&#32;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#97;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>    </p>



<p>where  \sigma_a is the tuning magnitude of standard deviation of the acceleration.</p>



<h3>Measurement noise covariance matrix R</h3>



<p>The covariance of the measurement noise <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-d6abdd487c56e5efbb2c9522ed4b9360_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#82;" title="Rendered by QuickLaTeX.com" height="12" width="14" style="vertical-align: 0px;"/> is a scalar and is equal to the variance of the measurement noise. It can be written as:</p>



<p>  <p class="ql-center-displayed-equation" style="line-height: 21px;"><span class="ql-right-eqno"> (27) </span><span class="ql-left-eqno"> &nbsp; </span><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-c74eef21b9e6d119f7cb23378743f42f_l3.png" height="21" width="55" class="ql-img-displayed-equation quicklatex-auto-format" alt="&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#32;&#82;&#61;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#122;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;" title="Rendered by QuickLaTeX.com"/></p>  </p>



<p>Now we&#8217;re ready to implement it in Python. </p>



<h2>Python Implementation</h2>



<p>In this example, we assume that the standard deviations of the acceleration <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-08e8d9f62f13851b3b5512a55ed5b710_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#97;" title="Rendered by QuickLaTeX.com" height="11" width="17" style="vertical-align: -3px;"/> and the measurement <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-96269905aef380a154be5fa90471361f_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#122;" title="Rendered by QuickLaTeX.com" height="11" width="17" style="vertical-align: -3px;"/> are 0.25<img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-23e254aa17459cd463e46024f20cf9e7_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#109;&#47;&#115;&#94;&#50;" title="Rendered by QuickLaTeX.com" height="20" width="40" style="vertical-align: -5px;"/> and 1.2<img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-fdc40b8ad1cdad0aab9d632215459d28_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#109;" title="Rendered by QuickLaTeX.com" height="8" width="15" style="vertical-align: 0px;"/>, respectively. Then, we suppose also that the acceleration magnitude <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-0e55b0b3943237ccfc96979505679274_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#97;" title="Rendered by QuickLaTeX.com" height="8" width="9" style="vertical-align: 0px;"/> is 2.0 <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-011ed7fb5f517606fbb176379e0c6312_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#109;&#47;&#115;" title="Rendered by QuickLaTeX.com" height="18" width="33" style="vertical-align: -5px;"/>. The position will be estimated every 0.1<img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-1edc883862ceed1a21913f60358e31d8_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#115;" title="Rendered by QuickLaTeX.com" height="8" width="8" style="vertical-align: 0px;"/>.</p>



<p>Now, we&#8217;re ready to write our Kalman filter code. First, we create a class called <code>KalmanFilter</code>. We initialize the class with four parameters, they are <code>dt</code> (time for 1 cycle), <code>u</code> (control input related to the acceleration), <code>std_acc</code> (standard deviation of the acceleration,  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-08e8d9f62f13851b3b5512a55ed5b710_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#97;" title="Rendered by QuickLaTeX.com" height="11" width="17" style="vertical-align: -3px;"/>), and <code>std_meas</code> (standard deviation of the measurement,  <img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/ql-cache/quicklatex.com-96269905aef380a154be5fa90471361f_l3.png" class="ql-img-inline-formula quicklatex-auto-format" alt="&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#122;" title="Rendered by QuickLaTeX.com" height="11" width="17" style="vertical-align: -3px;"/>).  </p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">class KalmanFilter(object):
    def __init__(self, dt, u, std_acc, std_meas):
        self.dt = dt
        self.u = u
        self.std_acc = std_acc
        self.A = np.matrix([[1, self.dt],
                            [0, 1]])
        self.B = np.matrix([[(self.dt**2)/2], [self.dt]]) 
        self.H = np.matrix([[1,0]])
        self.Q = np.matrix([[(self.dt**4)/4, (self.dt**3)/2],
                            [(self.dt**3)/2, self.dt**2]]) * self.std_acc**2
        self.R = std_meas**2
        self.P = np.eye(self.A.shape[1])
        self.x = np.matrix([[0],[0]])</pre>



<p>Then create a function <code>predict()</code> that contains time update equations, eq.(<a href="#id2627360130">4</a>) and eq.(<a href="#id3264452005">5</a>) as follows:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">    def predict(self):
        # Ref :Eq.(9) and Eq.(10)

        # Update time state
        self.x = np.dot(self.A, self.x) + np.dot(self.B, self.u)

        # Calculate error covariance
        # P= A*P*A' + Q
        self.P = np.dot(np.dot(self.A, self.P), self.A.T) + self.Q
        return self.x</pre>



<p>Then we create a function <code>update()</code>  that contains measurement update equations, eq.(<a href="#id2025936140">11</a>),  eq.(<a href="#id3918340552">12</a>) and eq.(<a href="#id214309461">13</a>) as follows: </p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">    def update(self, z):
        # Ref :Eq.(11) , Eq.(11) and Eq.(13)
        # S = H*P*H'+R
        S = np.dot(self.H, np.dot(self.P, self.H.T)) + self.R

        # Calculate the Kalman Gain
        # K = P * H'* inv(H*P*H'+R)
        K = np.dot(np.dot(self.P, self.H.T), np.linalg.inv(S))  # Eq.(11)

        self.x = np.round(self.x + np.dot(K, (z - np.dot(self.H, self.x))))  # Eq.(12)

        I = np.eye(self.H.shape[1])
        self.P = (I - (K * self.H)) * self.P  # Eq.(13)</pre>



<p>And, here is our <code>main()</code> function:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">def main():
    dt = 0.1
    t = np.arange(0, 100, dt)

    # Define a model track
    real_track = 0.1*((t**2) - t)

    u= 2
    std_acc = 0.25     # we assume that the standard deviation of the acceleration is 0.25 (m/s^2)
    std_meas = 1.2    # and standard deviation of the measurement is 1.2 (m)

    # create KalmanFilter object
    kf = KalmanFilter(dt, u, std_acc, std_meas)

    predictions = []
    measurements = []
    for x in real_track:
        # Mesurement
        z = kf.H * x + np.random.normal(0, 50)

        measurements.append(z.item(0))
        predictions.append(kf.predict()[0])
        kf.update(z.item(0))


    fig = plt.figure()

    fig.suptitle('Example of Kalman filter for tracking a moving object in 1-D', fontsize=20)

    plt.plot(t, measurements, label='Measurements', color='b',linewidth=0.5)

    plt.plot(t, np.array(real_track), label='Real Track', color='y', linewidth=1.5)
    plt.plot(t, np.squeeze(predictions), label='Kalman Filter Prediction', color='r', linewidth=1.5)

    plt.xlabel('Time (s)', fontsize=20)
    plt.ylabel('Position (m)', fontsize=20)
    plt.legend()
    plt.show()</pre>



<pre class="EnlighterJSRAW" data-enlighter-language="python" data-enlighter-theme="atomic" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">if __name__ == '__main__':
    main()</pre>



<p>The following figure shows the simulation performance of 1-D Kalman Filter for the above case. We can see that it works pretty well. </p>



<div class="wp-block-image"><figure class="aligncenter size-large is-resized"><img decoding="async" loading="lazy" src="https://machinelearningspace.com/wp-content/uploads/2020/02/KalmanAkhir-1024x669.png" alt="" class="wp-image-1946" width="570" height="373" srcset="https://machinelearningspace.com/wp-content/uploads/2020/02/KalmanAkhir-1024x669.png 1024w, https://machinelearningspace.com/wp-content/uploads/2020/02/KalmanAkhir-300x196.png 300w, https://machinelearningspace.com/wp-content/uploads/2020/02/KalmanAkhir-768x502.png 768w, https://machinelearningspace.com/wp-content/uploads/2020/02/KalmanAkhir-459x300.png 459w, https://machinelearningspace.com/wp-content/uploads/2020/02/KalmanAkhir.png 1280w" sizes="(max-width: 570px) 100vw, 570px" /></figure></div>



<p>The code of this implementation can be also found in my Github repo in <a href="https://github.com/RahmadSadli/Kalman-Filter">this link</a>. </p>



<h2>Link to 2-D Object Tracking:</h2>



<figure class="wp-block-embed-wordpress wp-block-embed is-type-wp-embed is-provider-machine-learning-space"><div class="wp-block-embed__wrapper">
<blockquote class="wp-embedded-content" data-secret="rBQfiwpKnz"><a href="https://machinelearningspace.com/2d-object-tracking-using-kalman-filter/">Object Tracking: 2-D Object Tracking using Kalman Filter in Python</a></blockquote><iframe class="wp-embedded-content" sandbox="allow-scripts" security="restricted" title="&#8220;Object Tracking: 2-D Object Tracking using Kalman Filter in Python&#8221; &#8212; Machine Learning Space" src="https://machinelearningspace.com/2d-object-tracking-using-kalman-filter/embed/#?secret=rBQfiwpKnz" data-secret="rBQfiwpKnz" width="500" height="282" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
</div></figure>



<h2>Related Posts</h2>



<p>Here are the related posts in the Python category that you might want to take a look:</p>



<ul><li><a href="https://machinelearningspace.com/nlp-sentiment-analysis-using-keras-embedding-layer-in-tensorflow-2-0/">Sentiment Analysis Using Keras Embedding Layer in TensorFlow 2.0</a></li><li><a href="https://machinelearningspace.com/the-beginners-guide-to-implementing-yolov3-in-tensorflow-2-0-part-1/">The beginner’s guide to implementing YOLOv3 in TensorFlow 2.0</a></li></ul>



<h2>Reference</h2>



<ol><li><a href="https://www.cs.unc.edu/~welch/media/pdf/kalman_intro.pdf">Greg Welch and Gary Bishop, &#8216;An Introduction to the Kalman Filter&#8217;, July 24, 2006</a> </li><li><a href="https://www.intechopen.com/books/introduction-and-implementations-of-the-kalman-filter/introduction-to-kalman-filter-and-its-applications#B5">Youngjoo Kim and Hyochoong Bang, Introduction to Kalman Filter and Its Applications, November 2018</a></li><li><a href="http://studentdavestutorials.weebly.com/">Student Dave, Kalman Filter With Matlab Code</a></li></ol>



<p></p>
<p>The post <a rel="nofollow" href="https://machinelearningspace.com/object-tracking-python/">Object Tracking: Simple Implementation of Kalman Filter in Python</a> appeared first on <a rel="nofollow" href="https://machinelearningspace.com">Machine Learning Space</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://machinelearningspace.com/object-tracking-python/feed/</wfw:commentRss>
			<slash:comments>10</slash:comments>
		
		
			</item>
	</channel>
</rss>
