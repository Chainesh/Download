{"id":1364,"date":"2020-02-15T11:23:38","date_gmt":"2020-02-15T10:23:38","guid":{"rendered":"https:\/\/machinelearningspace.com\/?p=1364"},"modified":"2022-01-10T16:00:28","modified_gmt":"2022-01-10T15:00:28","slug":"object-tracking-python","status":"publish","type":"post","link":"https:\/\/machinelearningspace.com\/object-tracking-python\/","title":{"rendered":"Object Tracking: Simple Implementation of Kalman Filter in Python"},"content":{"rendered":"\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"1280\" height=\"836\" src=\"https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/kalman15.png\" alt=\"Kalman Filter\" class=\"wp-image-1940\" srcset=\"https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/kalman15.png 1280w, https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/kalman15-300x196.png 300w, https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/kalman15-1024x669.png 1024w, https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/kalman15-768x502.png 768w, https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/kalman15-459x300.png 459w\" sizes=\"(max-width: 1280px) 100vw, 1280px\" \/><\/figure><\/div>\n\n\n\n<h2>Introduction <\/h2>\n\n\n\n<p>Kalman filtering is an algorithm that allows us to estimate the states of a system given the observations or measurements. It is a useful tool for a variety of different applications including object tracking and autonomous navigation systems, economics prediction, etc.  <\/p>\n\n\n\n<p>Even though it is a relatively simple algorithm, but it&#8217;s still not easy for some people to understand and implement it in a computer program such as Python. Therefore, the aim of this tutorial is to help some people to comprehend easily the implementation of Kalman filter in Python. <\/p>\n\n\n\n<p>While there are some excellent references detailing the theory behind the Kalman filter, so we&#8217;re not going to dive deeply into the theoretical details. Instead, this article presents the Kalman filter from a practical usage perspective only.  <\/p>\n\n\n\n<p>After completing this tutorial, you will discover a basic concept of applying Kalman filter in tracking a moving object in a 1-D direction using Python. So, this tutorial will become a prerequisite for a multi-object tracking that I will be presenting on this blog in the near future. <\/p>\n\n\n\n<h2>Kalman Filtering Algorithm <\/h2>\n\n\n\n<p>Since our purpose of this tutorial is to implement the Kalman filter in computer programing code, we&#8217;ll only consider this tutorial for the Discrete Kalman filter.<\/p>\n\n\n\n<p>The basic idea of the Kalman filter is by using the prior knowledge of the state, the filter makes a forward projection state or predicts the next state.  <\/p>\n\n\n\n<p>The Kalman Filter is intended to estimate the state of a system at time <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"13\" width=\"9\" style=\"vertical-align: 0px;\"\/>  using the linear stochastic difference equation assuming that the state of a system at a time <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"13\" width=\"9\" style=\"vertical-align: 0px;\"\/> evolved from the prior state at time <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-7dfca2445cd362ac42fb9032c9cf2367_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#107;&#45;&#49;\" title=\"Rendered by QuickLaTeX.com\" height=\"14\" width=\"39\" style=\"vertical-align: -1px;\"\/> as written in the following form: <\/p>\n\n\n\n<p><a name=\"id2022939822\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 16px;\"><span class=\"ql-right-eqno\"> (1) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-06ea8b706d9fbe2481178727873f67ba_l3.png\" height=\"16\" width=\"227\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#61;&#65;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#66;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#117;&#125;&#32;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#119;&#125;&#32;&#95;&#123;&#107;&#45;&#49;&#125;&#36;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p> <\/p>\n\n\n\n<p>It is always paired with the measurement model <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d8c70f611674eac31f2174c1d57c4c2a_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"11\" width=\"16\" style=\"vertical-align: -3px;\"\/> that describes a relation between the state and measurement at the current step <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"13\" width=\"9\" style=\"vertical-align: 0px;\"\/>. It is written as:<\/p>\n\n\n\n<p><a name=\"id1545965916\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 15px;\"><span class=\"ql-right-eqno\"> (2) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-a0c41fb138f388eb08ead33521970b3d_l3.png\" height=\"15\" width=\"116\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#32;&#61;&#32;&#72;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#118;&#125;&#95;&#107;&#36;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p> <\/p>\n\n\n\n<p>where:<\/p>\n\n\n\n<ul><li><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-816b613a4f79d4bf9cb51396a9654120_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#65;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"13\" style=\"vertical-align: 0px;\"\/>, a matrix <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-64b4341c742f062175d68ed2b6bd16b9_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#110;&#32;&#120;&#32;&#110;\" title=\"Rendered by QuickLaTeX.com\" height=\"8\" width=\"32\" style=\"vertical-align: 0px;\"\/>, is the state transition matrix relating the previous time step <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-41906102c84fad955b69ae2999de510e_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#123;&#107;&#45;&#49;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"14\" width=\"39\" style=\"vertical-align: -1px;\"\/> to the current state <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"13\" width=\"9\" style=\"vertical-align: 0px;\"\/>  <\/li><li><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-c74288aabc0e2ca280d25d92bf1a1ec2_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#66;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"14\" style=\"vertical-align: 0px;\"\/>, a matrix <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-c7e5a8e4b528656de48409616db0647e_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#110;&#32;&#120;&#32;&#108;\" title=\"Rendered by QuickLaTeX.com\" height=\"13\" width=\"26\" style=\"vertical-align: 0px;\"\/>, is a control input matrix applied to the optional control input <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-61ec61fc46244a8464d5a029bd9f2714_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#117;&#125;&#95;&#123;&#107;&#45;&#49;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"36\" style=\"vertical-align: -4px;\"\/>  <\/li><li> <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-a7cedbc00aa5531f310166df85e3a9bb_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#72;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"16\" style=\"vertical-align: 0px;\"\/>, a matrix <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-1ee34b689c5e63ae688a6b646d5e136d_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#109;&#32;&#120;&#32;&#110;\" title=\"Rendered by QuickLaTeX.com\" height=\"8\" width=\"37\" style=\"vertical-align: 0px;\"\/>, is a transformation matrix that transforms the state into the measurement domain<\/li><li><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-59bdc54ba1166656135f2395bd504a15_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#119;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"22\" style=\"vertical-align: -3px;\"\/> and  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-79656d75ea4b72d9fddd6e5788be71dd_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#118;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"18\" style=\"vertical-align: -3px;\"\/>  represent the <em>process noise vector<\/em> with the covariance <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-dd440a7af28975f52f03607a49307d46_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#81;\" title=\"Rendered by QuickLaTeX.com\" height=\"16\" width=\"14\" style=\"vertical-align: -4px;\"\/> and the <em>measurement noise<\/em> <em>vector<\/em> with the covariance <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d6abdd487c56e5efbb2c9522ed4b9360_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#82;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"14\" style=\"vertical-align: 0px;\"\/>, respectively. They are assumed statistically independence Gaussian noise with the normal probability distribution.<\/li><\/ul>\n\n\n\n<p><p class=\"ql-center-displayed-equation\" style=\"line-height: 40px;\"><span class=\"ql-right-eqno\"> (3) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-c208ddaa5121243410dd57313c0aa4b8_l3.png\" height=\"40\" width=\"122\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#36;&#112;&#92;&#108;&#101;&#102;&#116;&#40;&#32;&#119;&#32;&#92;&#114;&#105;&#103;&#104;&#116;&#41;&#32;&#92;&#115;&#105;&#109;&#32;&#78;&#40;&#48;&#44;&#81;&#41;&#92;&#92;&#36;&#32;&#36;&#112;&#92;&#108;&#101;&#102;&#116;&#40;&#32;&#118;&#32;&#92;&#114;&#105;&#103;&#104;&#116;&#41;&#32;&#32;&#92;&#115;&#105;&#109;&#32;&#78;&#40;&#48;&#44;&#82;&#41;&#36;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <\/p>\n\n\n\n<h3>Kalman Equations<\/h3>\n\n\n\n<p>To explain the Kalman equations, we are going to use two terms, <em>a priori<\/em> and <em>a posteriori<\/em> estimates. The <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d7b731c38ac15419edd5504ef15e4e6a_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"19\" width=\"21\" style=\"vertical-align: -6px;\"\/> and the  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d1c004d0e4a3c0792b19fbe733318ffe_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"18\" width=\"24\" style=\"vertical-align: -6px;\"\/> are the <em>a priori<\/em> estimates for the <em>state<\/em> and <em>error covariance<\/em>, respectively. And  The <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-9a68cddcdb5380035f35ff5177b9753a_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"16\" width=\"18\" style=\"vertical-align: -3px;\"\/> and the  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-55b078aa5e2775a7a81369879eec9e1f_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"15\" width=\"21\" style=\"vertical-align: -3px;\"\/> are the <em>a <\/em> <em>posteriori<\/em>  estimates for the <em>state<\/em> and <em>error covariance<\/em>, respectively. <\/p>\n\n\n\n<p>The equations of Kalman filter are divided into two groups: the <em>time update equations <\/em>also called the predictor equations and <em>measurement update equations<\/em> can be thought of also as the corrector equations.  In some literature,  this is sometimes called <em>predictor-corrector<\/em> or <em>prediction-update<\/em>. <\/p>\n\n\n\n<p>The time update equations are responsible for projecting forward the current <em>state <\/em>and <em>error covariance<\/em> estimates to obtain the <em>a priori <\/em>estimates for the next time step. The <em>measurement update<\/em> equations are responsible for improving the <em>a posteriori<\/em> estimate by incorporating a new measurement into the <em>a priori<\/em> estimate. <\/p>\n\n\n\n<h4><strong>Prediction <\/strong><\/h4>\n\n\n\n<p>In time update equation we&#8217;re going to calculate the predicted state estimate  (<em>a priori <\/em>state estimates) <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d7b731c38ac15419edd5504ef15e4e6a_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"19\" width=\"21\" style=\"vertical-align: -6px;\"\/> and predicted error covariance (<em>a priori <\/em>error covariance estimates) <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d1c004d0e4a3c0792b19fbe733318ffe_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"18\" width=\"24\" style=\"vertical-align: -6px;\"\/>. <\/p>\n\n\n\n<p>First,  the  <em>a priori<\/em> state estimate  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d7b731c38ac15419edd5504ef15e4e6a_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"19\" width=\"21\" style=\"vertical-align: -6px;\"\/>  is  predicted  by using the state dynamic equation model that projects forward one step in time as follows:<\/p>\n\n\n\n<p> <a name=\"id2627360130\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 19px;\"><span class=\"ql-right-eqno\"> (4) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-aea0eb011e49bbd793e354f0767d856a_l3.png\" height=\"19\" width=\"168\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#32;&#61;&#32;&#65;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#66;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#117;&#125;&#32;&#95;&#123;&#107;&#45;&#49;&#125;&#36;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p> <\/p>\n\n\n\n<p>where: <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-204a564fb0708c05357d0b2f5a02efb3_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#123;&#107;&#45;&#49;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"17\" width=\"35\" style=\"vertical-align: -4px;\"\/> is the previous estimated state (<em>a posteriori<\/em> state estimate).<\/p>\n\n\n\n<p>Next, the error covariance matrix <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d1c004d0e4a3c0792b19fbe733318ffe_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"18\" width=\"24\" style=\"vertical-align: -6px;\"\/> is predicted by:<\/p>\n\n\n\n<p><a name=\"id3264452005\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 21px;\"><span class=\"ql-right-eqno\"> (5) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-59b5e3b903ccc9c44b98be920e7d999a_l3.png\" height=\"21\" width=\"163\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#32;&#61;&#32;&#65;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#65;&#94;&#84;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;&#32;&#36;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <\/p>\n\n\n\n<p>where <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-25996dac81fd6d1fffba733824e90d94_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#123;&#107;&#45;&#49;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"16\" width=\"38\" style=\"vertical-align: -4px;\"\/> is the previous estimated error covariance matrix and <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-33fdf82f72aa7e49e0fb04d66152a542_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"15\" width=\"14\" style=\"vertical-align: -3px;\"\/> is the process noise covariance.<\/p>\n\n\n\n<h4><strong>Update<\/strong><\/h4>\n\n\n\n<p>During the update stage, we compute the Kalman gain <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-da0435ff7424603dc93ebe340b304e75_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#75;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"16\" width=\"23\" style=\"vertical-align: -3px;\"\/> as follows:<\/p>\n\n\n\n<p> <p class=\"ql-center-displayed-equation\" style=\"line-height: 21px;\"><span class=\"ql-right-eqno\"> (6) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-58ed3fddcf75b2441156ad262aa5dd17_l3.png\" height=\"21\" width=\"234\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#75;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#72;&#94;&#84;&#36;&#40;&#72;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#72;&#94;&#84;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#82;&#125;&#32;&#41;&#94;&#123;&#45;&#49;&#125;&#36;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <\/p>\n\n\n\n<p>where <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-db27aa7cb808171d5469d713b775b27f_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#82;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"16\" style=\"vertical-align: 0px;\"\/> is the measurement noise covariance.<\/p>\n\n\n\n<p>After that, we perform the actual measurement <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-1f5c35714026569c0654b624b07d1131_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#122;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"11\" width=\"16\" style=\"vertical-align: -3px;\"\/>.&nbsp; <\/p>\n\n\n\n<p>In order to update the predicted state estimate <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d7b731c38ac15419edd5504ef15e4e6a_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"19\" width=\"21\" style=\"vertical-align: -6px;\"\/>, we need to measure the measurement residual. It is the difference between the true measurement <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-1f5c35714026569c0654b624b07d1131_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#122;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"11\" width=\"16\" style=\"vertical-align: -3px;\"\/> and the previous estimated measurement <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-7b664c7cbcd319b4b74f1e666c60e22f_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#72;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#32;&#94;&#123;&#45;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"19\" width=\"37\" style=\"vertical-align: -6px;\"\/>. So the  measurement residual is <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-cbc91a00242d938a1ad2ea442f8bd24d_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#122;&#125;&#95;&#107;&#32;&#45;&#32;&#72;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#32;&#94;&#123;&#45;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"19\" width=\"76\" style=\"vertical-align: -6px;\"\/>. <\/p>\n\n\n\n<p>To update the predicted state estimate called updated state estimed  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-e71829888637ed2430504666db673520_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"16\" width=\"18\" style=\"vertical-align: -3px;\"\/> is proceed by performing the summation of the <em>a priori<\/em> projected state estimate  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d7b731c38ac15419edd5504ef15e4e6a_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"19\" width=\"21\" style=\"vertical-align: -6px;\"\/> to the product of the Kalman gain and the measurement residual. It can be written as follows:<\/p>\n\n\n\n<p> <p class=\"ql-center-displayed-equation\" style=\"line-height: 20px;\"><span class=\"ql-right-eqno\"> (7) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-b27ce28e8035db16da1865d5d5f6c0ec_l3.png\" height=\"20\" width=\"202\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#75;&#125;&#95;&#107;&#40;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#45;&#72;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#32;&#94;&#123;&#45;&#125;&#95;&#107;&#41;&#36;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>   <\/p>\n\n\n\n<p>After obtaining the updated state estimate, the filter calculates the updated error covariance <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-c5cd44b07c1b052582b151b1086fdaf8_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"15\" width=\"21\" style=\"vertical-align: -3px;\"\/>, which will be used in the next time step. <\/p>\n\n\n\n<p><p class=\"ql-center-displayed-equation\" style=\"line-height: 20px;\"><span class=\"ql-right-eqno\"> (8) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-8c376950b93cfa4b35868a1c1d9f1d86_l3.png\" height=\"20\" width=\"155\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#36;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#107;&#32;&#61;&#32;&#40;&#73;&#32;&#45;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#75;&#125;&#95;&#107;&#72;&#41;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#36;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>    <\/p>\n\n\n\n<p>where <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-14b16a74c9ddcc6f9be3e94b9c8d8f08_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#73;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"9\" style=\"vertical-align: 0px;\"\/> is an identity matrix.<\/p>\n\n\n\n<p>The following tables 1 and 2 show the summary of the Kalman filter algorithm. <\/p>\n\n\n\n<p class=\"has-text-align-center\"><strong id=\"time-update\">Tabel 1<\/strong>. Discrete Kalman Time update equations<\/p>\n\n\n\n<p class=\"has-text-align-center\">=======================================<\/p>\n\n\n\n<p class=\"has-text-align-left\"><a name=\"id2572786472\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 19px;\"><span class=\"ql-right-eqno\"> (9) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-3425274dcf54ca87963324513101694c_l3.png\" height=\"19\" width=\"168\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#32;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#32;&#61;&#32;&#65;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#66;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#117;&#125;&#32;&#95;&#123;&#107;&#45;&#49;&#125;&#36;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p> <br><a name=\"id599149761\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 21px;\"><span class=\"ql-right-eqno\"> (10) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-fada71647b5284c0b703b2e7a1b0115e_l3.png\" height=\"21\" width=\"163\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#32;&#61;&#32;&#65;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#65;&#94;&#84;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;&#32;&#36;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <\/p>\n\n\n\n<p class=\"has-text-align-center\">  =======================================<\/p>\n\n\n\n<p class=\"has-text-align-center\"> <strong id=\"measurement-update\">Tabel <\/strong>2.  Discrete Kalman filter measurement update equations. <\/p>\n\n\n\n<p class=\"has-text-align-center\">  ========================================================<\/p>\n\n\n\n<p><a name=\"id2025936140\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 21px;\"><span class=\"ql-right-eqno\"> (11) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-115cc4aaa653cd101d7e07e30d4b8ac9_l3.png\" height=\"21\" width=\"234\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#75;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#72;&#94;&#84;&#36;&#40;&#72;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#72;&#94;&#84;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#82;&#125;&#32;&#41;&#94;&#123;&#45;&#49;&#125;&#36;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p><br><a name=\"id3918340552\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 20px;\"><span class=\"ql-right-eqno\"> (12) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-6c1508e1393d43caa12fb8d548432d67_l3.png\" height=\"20\" width=\"202\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#32;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#75;&#125;&#95;&#107;&#40;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#45;&#72;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#32;&#94;&#123;&#45;&#125;&#95;&#107;&#41;&#36;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <br><a name=\"id214309461\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 20px;\"><span class=\"ql-right-eqno\"> (13) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-951da32dc0f231f7dd5d12e67422de5b_l3.png\" height=\"20\" width=\"155\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#36;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#107;&#32;&#61;&#32;&#40;&#73;&#32;&#45;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#75;&#125;&#95;&#107;&#72;&#41;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#94;&#123;&#45;&#125;&#95;&#107;&#36;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>   <\/p>\n\n\n\n<p class=\"has-text-align-center\">   ======================================================== <\/p>\n\n\n\n<p>The figure below descibes the cycle of ongoing discrete Kalman filter. <\/p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large is-resized\"><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/Kalman.png\" alt=\"Kalman Filter\" class=\"wp-image-1502\" width=\"548\" height=\"297\" srcset=\"https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/Kalman.png 1021w, https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/Kalman-300x162.png 300w, https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/Kalman-768x416.png 768w, https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/Kalman-550x298.png 550w\" sizes=\"(max-width: 548px) 100vw, 548px\" \/><figcaption>Source:  <a href=\"https:\/\/www.cs.unc.edu\/~welch\/media\/pdf\/kalman_intro.pdf\">Greg Welch and Gary Bishop, &#8216;An Introduction to the Kalman Filter&#8217;, July 24, 2006<\/a>  <\/figcaption><\/figure><\/div>\n\n\n\n<p>Initially,  to implement the Kalman filter we need to guess an initial state  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-204a564fb0708c05357d0b2f5a02efb3_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#92;&#94;&#123;&#120;&#125;&#125;&#95;&#123;&#107;&#45;&#49;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"17\" width=\"35\" style=\"vertical-align: -4px;\"\/>  and error covariance matrix <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-25996dac81fd6d1fffba733824e90d94_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#80;&#125;&#95;&#123;&#107;&#45;&#49;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"16\" width=\"38\" style=\"vertical-align: -4px;\"\/> .  The current state estimate will be projected forward to obtain the <em>a priori <\/em>estimates for the next time step by the time update equations. Then, using the actual measurement, the measurement update equations adjust the projected estimate at that time.   <\/p>\n\n\n\n<p>That&#8217;s it for Kalman filter theory&#8230;<\/p>\n\n\n\n<p>Next&#8230;<\/p>\n\n\n\n<p>We&#8217;re going to look at a simple one-dimensional object tracking problem.<\/p>\n\n\n\n<h2>Implementation<\/h2>\n\n\n\n<p>In this example, we want to model a moving object following a simple track as given in the following function:<\/p>\n\n\n\n<p><p class=\"ql-center-displayed-equation\" style=\"line-height: 21px;\"><span class=\"ql-right-eqno\"> (14) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-ad8be657e58e220d0e8982df54a35fb8_l3.png\" height=\"21\" width=\"148\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#102;&#40;&#116;&#41;&#61;&#48;&#46;&#49;&#42;&#40;&#116;&#94;&#50;&#45;&#116;&#41;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p><\/p>\n\n\n\n<p>Our task is to track that object using the Kalman filter from time <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-fd9cb27edab3f0a8a249bc80cc9c6ee2_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#116;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"6\" style=\"vertical-align: 0px;\"\/>=0 to <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-fd9cb27edab3f0a8a249bc80cc9c6ee2_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#116;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"6\" style=\"vertical-align: 0px;\"\/>=100<img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-1edc883862ceed1a21913f60358e31d8_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#115;\" title=\"Rendered by QuickLaTeX.com\" height=\"8\" width=\"8\" style=\"vertical-align: 0px;\"\/>. <\/p>\n\n\n\n<p>So, let&#8217;s get started..<\/p>\n\n\n\n<h3>State transition matrix A and control matrix B<\/h3>\n\n\n\n<p>Based on Kinematic equation, the relation between the position <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-7e5fbfa0bbbd9f3051cd156a0f1b5e31_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#120;\" title=\"Rendered by QuickLaTeX.com\" height=\"8\" width=\"10\" style=\"vertical-align: 0px;\"\/> and velocity <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-770d10fb0f6590bea84ce31bd1af6d0c_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#100;&#111;&#116;&#32;&#120;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"10\" style=\"vertical-align: 0px;\"\/> can be written as the following:<\/p>\n\n\n\n<p class=\"has-text-align-left\"><strong>Position<\/strong>:<\/p>\n\n\n\n<p><p class=\"ql-center-displayed-equation\" style=\"line-height: 36px;\"><span class=\"ql-right-eqno\"> (15) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-702f586643825678d190f675f8a1f148_l3.png\" height=\"36\" width=\"269\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#120;&#95;&#123;&#107;&#125;&#32;&#61;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#32;&#116;&#43;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#125;&#92;&#92;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <\/p>\n\n\n\n<p class=\"has-text-align-left\"><strong>Velocity:<\/strong><\/p>\n\n\n\n<p><p class=\"ql-center-displayed-equation\" style=\"line-height: 16px;\"><span class=\"ql-right-eqno\"> (16) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-13da39ea7d7977908f9a8dee29f2d858_l3.png\" height=\"16\" width=\"157\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#125;&#32;&#61;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <\/p>\n\n\n\n<p class=\"has-text-align-left\">where: <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-64ed2446e3b5dc81c9f5eaa1326f2297_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#100;&#100;&#111;&#116;&#32;&#120;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"10\" style=\"vertical-align: 0px;\"\/> is the acceleration.<\/p>\n\n\n\n<p>Since the state vector <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-2c0c9cc1d15c8bbf6f8800e7c7d50482_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;\" title=\"Rendered by QuickLaTeX.com\" height=\"11\" width=\"18\" style=\"vertical-align: -3px;\"\/> contains the position and velocity,  we can model this example as follows: <\/p>\n\n\n\n<p><p class=\"ql-center-displayed-equation\" style=\"line-height: 44px;\"><span class=\"ql-right-eqno\"> (17) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-e8cd6869e2095435380e65afb15cd487_l3.png\" height=\"44\" width=\"346\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#120;&#95;&#107;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#32;&#116;&#43;&#32;&#49;&#47;&#50;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#125;&#92;&#92;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#43;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p><\/p>\n\n\n\n<p>These linear equations can be written in matrix form as: <\/p>\n\n\n\n<p> <a name=\"id286783683\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 44px;\"><span class=\"ql-right-eqno\"> (18) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-e6e2d565a04cf7a2595913099abbbba6_l3.png\" height=\"44\" width=\"358\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#120;&#95;&#107;&#92;&#92;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#92;&#92;&#48;&#32;&#38;&#32;&#49;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#43;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#92;&#92;&#32;&#32;&#32;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p> <\/p>\n\n\n\n<p>The equation (<a href=\"#id286783683\">18<\/a>) can be written as:<\/p>\n\n\n\n<p><a name=\"id1910025905\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 44px;\"><span class=\"ql-right-eqno\"> (19) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-bbfcb3ed38a36a507bd6b4fbd04544d5_l3.png\" height=\"44\" width=\"278\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#92;&#92;&#48;&#32;&#38;&#32;&#49;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#43;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#92;&#92;&#32;&#32;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#100;&#100;&#111;&#116;&#32;&#120;&#95;&#123;&#107;&#45;&#49;&#125;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <\/p>\n\n\n\n<p>By comparing the eq.(<a href=\"#id1910025905\">19<\/a>) to the eq.(<a href=\"#id2022939822\">1<\/a>), we have the following relations:<\/p>\n\n\n\n<p>   <p class=\"ql-center-displayed-equation\" style=\"line-height: 43px;\"><span class=\"ql-right-eqno\"> (20) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-5b5b87509b4a41be145d809c4c8d2a5e_l3.png\" height=\"43\" width=\"99\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#65;&#125;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#92;&#92;&#48;&#32;&#38;&#32;&#49;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>   <br>and<br>  <p class=\"ql-center-displayed-equation\" style=\"line-height: 44px;\"><span class=\"ql-right-eqno\"> (21) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-a46f68744e726caaa523f96779dbbb09_l3.png\" height=\"44\" width=\"106\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#66;&#125;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#49;&#125;&#123;&#50;&#125;&#40;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#41;&#94;&#50;&#32;&#92;&#92;&#32;&#32;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>    <\/p>\n\n\n\n<h3>Transformation matrix H<\/h3>\n\n\n\n<p>Measurements of the system can be performed according to the model in eq.(<a href=\"#id1545965916\">2<\/a>):<\/p>\n\n\n\n<p> <a name=\"id1165590931\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 15px;\"><span class=\"ql-right-eqno\"> (22) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-dffc1ab5738202e395807387e1aa90a0_l3.png\" height=\"15\" width=\"116\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#36;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#32;&#61;&#32;&#72;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#120;&#125;&#95;&#107;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#118;&#125;&#95;&#107;&#36;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <\/p>\n\n\n\n<p>Since we only measure the position, the eq.(<a href=\"#id1165590931\">22<\/a>) can be written in matrix form as:<\/p>\n\n\n\n<p>  <a name=\"id2351449942\"><\/a><p class=\"ql-center-displayed-equation\" style=\"line-height: 43px;\"><span class=\"ql-right-eqno\"> (23) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-c80b4c140eedfcfe40d64a73196afd0c_l3.png\" height=\"43\" width=\"169\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#122;&#125;&#95;&#107;&#32;&#61;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#48;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#120;&#95;&#107;&#32;&#92;&#92;&#32;&#32;&#92;&#100;&#111;&#116;&#32;&#120;&#95;&#107;&#32;&#92;&#92;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#43;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#118;&#125;&#95;&#123;&#107;&#125;&#32;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <\/p>\n\n\n\n<p>So, we have the transformation matrix <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-a7cedbc00aa5531f310166df85e3a9bb_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#72;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"16\" style=\"vertical-align: 0px;\"\/> as follows:<\/p>\n\n\n\n<p><p class=\"ql-center-displayed-equation\" style=\"line-height: 22px;\"><span class=\"ql-right-eqno\"> (24) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-cbc1cb54d8e43431aafe6618c2e5dc24_l3.png\" height=\"22\" width=\"85\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#72;&#125;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#49;&#32;&#38;&#32;&#48;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <\/p>\n\n\n\n<h3 id=\"noise-covariance\">Proess noise covariance matrix Q<\/h3>\n\n\n\n<p>The process noise covariance matrix  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-33fdf82f72aa7e49e0fb04d66152a542_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"15\" width=\"14\" style=\"vertical-align: -3px;\"\/> or error in the state process is basically can be written as follows:<\/p>\n\n\n\n<p>  <p class=\"ql-center-displayed-equation\" style=\"line-height: 44px;\"><span class=\"ql-right-eqno\"> (25) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-b7cf592111f9b5499cc484ad7ff0ff22_l3.png\" height=\"44\" width=\"143\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#120;&#32;&#38;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#120;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#123;&#92;&#100;&#111;&#116;&#32;&#120;&#125;&#32;&#32;&#32;&#92;&#92;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#123;&#92;&#100;&#111;&#116;&#32;&#120;&#125;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#120;&#32;&#38;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#32;&#123;&#92;&#100;&#111;&#116;&#32;&#120;&#125;&#32;&#32;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>   <\/p>\n\n\n\n<p>where <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-9872821fe0eb3dc80c323d67158edf64_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#120;\" title=\"Rendered by QuickLaTeX.com\" height=\"11\" width=\"18\" style=\"vertical-align: -3px;\"\/> and  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-1e6d7b56468d3ad8df4923d365cc6356_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#123;&#92;&#100;&#111;&#116;&#32;&#120;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"11\" width=\"18\" style=\"vertical-align: -3px;\"\/> are the standard deviations of the position and the velocity, respectively. <\/p>\n\n\n\n<p>We can define the standard deviation of position as the standard deviation of acceleration  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-08e8d9f62f13851b3b5512a55ed5b710_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#97;\" title=\"Rendered by QuickLaTeX.com\" height=\"11\" width=\"17\" style=\"vertical-align: -3px;\"\/>  multiplied by  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-557899f1df8b2f293c6c988e6e0d2dbd_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#125;&#123;&#50;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"24\" width=\"24\" style=\"vertical-align: -6px;\"\/>. The reason for this is because the <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-557899f1df8b2f293c6c988e6e0d2dbd_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#125;&#123;&#50;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"24\" width=\"24\" style=\"vertical-align: -6px;\"\/>  is the effect that will have on the position. Therefore, by multiplying the standard deviation of the acceleration by <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-557899f1df8b2f293c6c988e6e0d2dbd_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#125;&#123;&#50;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"24\" width=\"24\" style=\"vertical-align: -6px;\"\/> we&#8217;ll have the standard deviation of the position. <\/p>\n\n\n\n<p>Similarly, if we multiply the standard deviation of the acceleration by delta  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-6f617a09a3f49856b832a0a66bc803f3_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"21\" style=\"vertical-align: 0px;\"\/>, we&#8217;ll get the standard deviation of the velocity. <\/p>\n\n\n\n<p>So, we can write the process covariance noise <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-33fdf82f72aa7e49e0fb04d66152a542_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;\" title=\"Rendered by QuickLaTeX.com\" height=\"15\" width=\"14\" style=\"vertical-align: -3px;\"\/> as follows:<\/p>\n\n\n\n<p> <p class=\"ql-center-displayed-equation\" style=\"line-height: 54px;\"><span class=\"ql-right-eqno\"> (26) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-7c8dbe73601ba1e1f1f3d48ae5f503d5_l3.png\" height=\"54\" width=\"152\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#32;&#32;&#92;&#116;&#101;&#120;&#116;&#98;&#102;&#123;&#81;&#125;&#32;&#61;&#32;&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#52;&#125;&#125;&#123;&#52;&#125;&#32;&#32;&#38;&#32;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#51;&#125;&#125;&#123;&#50;&#125;&#32;&#32;&#32;&#32;&#92;&#92;&#32;&#32;&#32;&#32;&#92;&#102;&#114;&#97;&#99;&#123;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#51;&#125;&#125;&#123;&#50;&#125;&#32;&#32;&#38;&#32;&#32;&#32;&#92;&#68;&#101;&#108;&#116;&#97;&#123;&#116;&#94;&#50;&#125;&#32;&#32;&#32;&#92;&#92;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#98;&#109;&#97;&#116;&#114;&#105;&#120;&#125;&#32;&#32;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#97;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>    <\/p>\n\n\n\n<p>where  \\sigma_a is the tuning magnitude of standard deviation of the acceleration.<\/p>\n\n\n\n<h3>Measurement noise covariance matrix R<\/h3>\n\n\n\n<p>The covariance of the measurement noise <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-d6abdd487c56e5efbb2c9522ed4b9360_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#82;\" title=\"Rendered by QuickLaTeX.com\" height=\"12\" width=\"14\" style=\"vertical-align: 0px;\"\/> is a scalar and is equal to the variance of the measurement noise. It can be written as:<\/p>\n\n\n\n<p>  <p class=\"ql-center-displayed-equation\" style=\"line-height: 21px;\"><span class=\"ql-right-eqno\"> (27) <\/span><span class=\"ql-left-eqno\"> &nbsp; <\/span><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-c74eef21b9e6d119f7cb23378743f42f_l3.png\" height=\"21\" width=\"55\" class=\"ql-img-displayed-equation quicklatex-auto-format\" alt=\"&#92;&#98;&#101;&#103;&#105;&#110;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;&#32;&#32;&#82;&#61;&#92;&#115;&#105;&#103;&#109;&#97;&#94;&#50;&#95;&#122;&#32;&#32;&#92;&#101;&#110;&#100;&#123;&#101;&#113;&#117;&#97;&#116;&#105;&#111;&#110;&#42;&#125;\" title=\"Rendered by QuickLaTeX.com\"\/><\/p>  <\/p>\n\n\n\n<p>Now we&#8217;re ready to implement it in Python. <\/p>\n\n\n\n<h2>Python Implementation<\/h2>\n\n\n\n<p>In this example, we assume that the standard deviations of the acceleration <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-08e8d9f62f13851b3b5512a55ed5b710_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#97;\" title=\"Rendered by QuickLaTeX.com\" height=\"11\" width=\"17\" style=\"vertical-align: -3px;\"\/> and the measurement <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-96269905aef380a154be5fa90471361f_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#122;\" title=\"Rendered by QuickLaTeX.com\" height=\"11\" width=\"17\" style=\"vertical-align: -3px;\"\/> are 0.25<img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-23e254aa17459cd463e46024f20cf9e7_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#109;&#47;&#115;&#94;&#50;\" title=\"Rendered by QuickLaTeX.com\" height=\"20\" width=\"40\" style=\"vertical-align: -5px;\"\/> and 1.2<img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-fdc40b8ad1cdad0aab9d632215459d28_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#109;\" title=\"Rendered by QuickLaTeX.com\" height=\"8\" width=\"15\" style=\"vertical-align: 0px;\"\/>, respectively. Then, we suppose also that the acceleration magnitude <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-0e55b0b3943237ccfc96979505679274_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#97;\" title=\"Rendered by QuickLaTeX.com\" height=\"8\" width=\"9\" style=\"vertical-align: 0px;\"\/> is 2.0 <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-011ed7fb5f517606fbb176379e0c6312_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#109;&#47;&#115;\" title=\"Rendered by QuickLaTeX.com\" height=\"18\" width=\"33\" style=\"vertical-align: -5px;\"\/>. The position will be estimated every 0.1<img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-1edc883862ceed1a21913f60358e31d8_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#115;\" title=\"Rendered by QuickLaTeX.com\" height=\"8\" width=\"8\" style=\"vertical-align: 0px;\"\/>.<\/p>\n\n\n\n<p>Now, we&#8217;re ready to write our Kalman filter code. First, we create a class called <code>KalmanFilter<\/code>. We initialize the class with four parameters, they are <code>dt<\/code> (time for 1 cycle), <code>u<\/code> (control input related to the acceleration), <code>std_acc<\/code> (standard deviation of the acceleration,  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-08e8d9f62f13851b3b5512a55ed5b710_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#97;\" title=\"Rendered by QuickLaTeX.com\" height=\"11\" width=\"17\" style=\"vertical-align: -3px;\"\/>), and <code>std_meas<\/code> (standard deviation of the measurement,  <img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/ql-cache\/quicklatex.com-96269905aef380a154be5fa90471361f_l3.png\" class=\"ql-img-inline-formula quicklatex-auto-format\" alt=\"&#92;&#115;&#105;&#103;&#109;&#97;&#95;&#122;\" title=\"Rendered by QuickLaTeX.com\" height=\"11\" width=\"17\" style=\"vertical-align: -3px;\"\/>).  <\/p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"python\" data-enlighter-theme=\"atomic\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">class KalmanFilter(object):\n    def __init__(self, dt, u, std_acc, std_meas):\n        self.dt = dt\n        self.u = u\n        self.std_acc = std_acc\n        self.A = np.matrix([[1, self.dt],\n                            [0, 1]])\n        self.B = np.matrix([[(self.dt**2)\/2], [self.dt]]) \n        self.H = np.matrix([[1,0]])\n        self.Q = np.matrix([[(self.dt**4)\/4, (self.dt**3)\/2],\n                            [(self.dt**3)\/2, self.dt**2]]) * self.std_acc**2\n        self.R = std_meas**2\n        self.P = np.eye(self.A.shape[1])\n        self.x = np.matrix([[0],[0]])<\/pre>\n\n\n\n<p>Then create a function <code>predict()<\/code> that contains time update equations, eq.(<a href=\"#id2627360130\">4<\/a>) and eq.(<a href=\"#id3264452005\">5<\/a>) as follows:<\/p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"python\" data-enlighter-theme=\"atomic\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">    def predict(self):\n        # Ref :Eq.(9) and Eq.(10)\n\n        # Update time state\n        self.x = np.dot(self.A, self.x) + np.dot(self.B, self.u)\n\n        # Calculate error covariance\n        # P= A*P*A' + Q\n        self.P = np.dot(np.dot(self.A, self.P), self.A.T) + self.Q\n        return self.x<\/pre>\n\n\n\n<p>Then we create a function <code>update()<\/code>  that contains measurement update equations, eq.(<a href=\"#id2025936140\">11<\/a>),  eq.(<a href=\"#id3918340552\">12<\/a>) and eq.(<a href=\"#id214309461\">13<\/a>) as follows: <\/p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"python\" data-enlighter-theme=\"atomic\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">    def update(self, z):\n        # Ref :Eq.(11) , Eq.(11) and Eq.(13)\n        # S = H*P*H'+R\n        S = np.dot(self.H, np.dot(self.P, self.H.T)) + self.R\n\n        # Calculate the Kalman Gain\n        # K = P * H'* inv(H*P*H'+R)\n        K = np.dot(np.dot(self.P, self.H.T), np.linalg.inv(S))  # Eq.(11)\n\n        self.x = np.round(self.x + np.dot(K, (z - np.dot(self.H, self.x))))  # Eq.(12)\n\n        I = np.eye(self.H.shape[1])\n        self.P = (I - (K * self.H)) * self.P  # Eq.(13)<\/pre>\n\n\n\n<p>And, here is our <code>main()<\/code> function:<\/p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"python\" data-enlighter-theme=\"atomic\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">def main():\n    dt = 0.1\n    t = np.arange(0, 100, dt)\n\n    # Define a model track\n    real_track = 0.1*((t**2) - t)\n\n    u= 2\n    std_acc = 0.25     # we assume that the standard deviation of the acceleration is 0.25 (m\/s^2)\n    std_meas = 1.2    # and standard deviation of the measurement is 1.2 (m)\n\n    # create KalmanFilter object\n    kf = KalmanFilter(dt, u, std_acc, std_meas)\n\n    predictions = []\n    measurements = []\n    for x in real_track:\n        # Mesurement\n        z = kf.H * x + np.random.normal(0, 50)\n\n        measurements.append(z.item(0))\n        predictions.append(kf.predict()[0])\n        kf.update(z.item(0))\n\n\n    fig = plt.figure()\n\n    fig.suptitle('Example of Kalman filter for tracking a moving object in 1-D', fontsize=20)\n\n    plt.plot(t, measurements, label='Measurements', color='b',linewidth=0.5)\n\n    plt.plot(t, np.array(real_track), label='Real Track', color='y', linewidth=1.5)\n    plt.plot(t, np.squeeze(predictions), label='Kalman Filter Prediction', color='r', linewidth=1.5)\n\n    plt.xlabel('Time (s)', fontsize=20)\n    plt.ylabel('Position (m)', fontsize=20)\n    plt.legend()\n    plt.show()<\/pre>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"python\" data-enlighter-theme=\"atomic\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">if __name__ == '__main__':\n    main()<\/pre>\n\n\n\n<p>The following figure shows the simulation performance of 1-D Kalman Filter for the above case. We can see that it works pretty well. <\/p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large is-resized\"><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/KalmanAkhir-1024x669.png\" alt=\"\" class=\"wp-image-1946\" width=\"570\" height=\"373\" srcset=\"https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/KalmanAkhir-1024x669.png 1024w, https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/KalmanAkhir-300x196.png 300w, https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/KalmanAkhir-768x502.png 768w, https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/KalmanAkhir-459x300.png 459w, https:\/\/machinelearningspace.com\/wp-content\/uploads\/2020\/02\/KalmanAkhir.png 1280w\" sizes=\"(max-width: 570px) 100vw, 570px\" \/><\/figure><\/div>\n\n\n\n<p>The code of this implementation can be also found in my Github repo in <a href=\"https:\/\/github.com\/RahmadSadli\/Kalman-Filter\">this link<\/a>. <\/p>\n\n\n\n<h2>Link to 2-D Object Tracking:<\/h2>\n\n\n\n<figure class=\"wp-block-embed-wordpress wp-block-embed is-type-wp-embed is-provider-machine-learning-space\"><div class=\"wp-block-embed__wrapper\">\n<blockquote class=\"wp-embedded-content\" data-secret=\"rBQfiwpKnz\"><a href=\"https:\/\/machinelearningspace.com\/2d-object-tracking-using-kalman-filter\/\">Object Tracking: 2-D Object Tracking using Kalman Filter in Python<\/a><\/blockquote><iframe class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" title=\"&#8220;Object Tracking: 2-D Object Tracking using Kalman Filter in Python&#8221; &#8212; Machine Learning Space\" src=\"https:\/\/machinelearningspace.com\/2d-object-tracking-using-kalman-filter\/embed\/#?secret=rBQfiwpKnz\" data-secret=\"rBQfiwpKnz\" width=\"500\" height=\"282\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"><\/iframe>\n<\/div><\/figure>\n\n\n\n<h2>Related Posts<\/h2>\n\n\n\n<p>Here are the related posts in the Python category that you might want to take a look:<\/p>\n\n\n\n<ul><li><a href=\"https:\/\/machinelearningspace.com\/nlp-sentiment-analysis-using-keras-embedding-layer-in-tensorflow-2-0\/\">Sentiment Analysis Using Keras Embedding Layer in TensorFlow 2.0<\/a><\/li><li><a href=\"https:\/\/machinelearningspace.com\/the-beginners-guide-to-implementing-yolov3-in-tensorflow-2-0-part-1\/\">The beginner\u2019s guide to implementing YOLOv3 in TensorFlow 2.0<\/a><\/li><\/ul>\n\n\n\n<h2>Reference<\/h2>\n\n\n\n<ol><li><a href=\"https:\/\/www.cs.unc.edu\/~welch\/media\/pdf\/kalman_intro.pdf\">Greg Welch and Gary Bishop, &#8216;An Introduction to the Kalman Filter&#8217;, July 24, 2006<\/a> <\/li><li><a href=\"https:\/\/www.intechopen.com\/books\/introduction-and-implementations-of-the-kalman-filter\/introduction-to-kalman-filter-and-its-applications#B5\">Youngjoo Kim and Hyochoong Bang, Introduction to Kalman Filter and Its Applications, November 2018<\/a><\/li><li><a href=\"http:\/\/studentdavestutorials.weebly.com\/\">Student Dave, Kalman Filter With Matlab Code<\/a><\/li><\/ol>\n\n\n\n<p><\/p>\n","protected":false},"excerpt":{"rendered":"<p>In this tutorial, I will provide the concept and implementation of a popular object tracking algorithm, namely Kalman filter.<\/p>\n","protected":false},"author":2,"featured_media":1795,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_mi_skip_tracking":false},"categories":[18,3],"tags":[60,62,17,61,46,63,23,64,16,13],"_links":{"self":[{"href":"https:\/\/machinelearningspace.com\/wp-json\/wp\/v2\/posts\/1364"}],"collection":[{"href":"https:\/\/machinelearningspace.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/machinelearningspace.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/machinelearningspace.com\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/machinelearningspace.com\/wp-json\/wp\/v2\/comments?post=1364"}],"version-history":[{"count":5,"href":"https:\/\/machinelearningspace.com\/wp-json\/wp\/v2\/posts\/1364\/revisions"}],"predecessor-version":[{"id":3065,"href":"https:\/\/machinelearningspace.com\/wp-json\/wp\/v2\/posts\/1364\/revisions\/3065"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/machinelearningspace.com\/wp-json\/wp\/v2\/media\/1795"}],"wp:attachment":[{"href":"https:\/\/machinelearningspace.com\/wp-json\/wp\/v2\/media?parent=1364"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/machinelearningspace.com\/wp-json\/wp\/v2\/categories?post=1364"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/machinelearningspace.com\/wp-json\/wp\/v2\/tags?post=1364"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}